(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef7f6f52"],{"133c":function(e,t,s){"use strict";s("7c25")},"15fd":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));s("a4d3"),s("b64b");function a(e,t){if(null==e)return{};var s,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)s=i[a],t.indexOf(s)>=0||(r[s]=e[s]);return r}function r(e,t){if(null==e)return{};var s,r,i=a(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)s=l[r],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}},"211d":function(e,t,s){},"3cbc":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pan-item",style:{zIndex:e.zIndex,height:e.height,width:e.width}},[s("div",{staticClass:"pan-info"},[s("div",{staticClass:"pan-info-roles-container"},[e._t("default")],2)]),s("div",{staticClass:"pan-thumb",style:{backgroundImage:"url("+e.image+")"}})])},r=[],i=(s("a9e3"),{name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}}),l=i,n=(s("133c"),s("2877")),o=Object(n["a"])(l,a,r,!1,null,"799537af",null);t["a"]=o.exports},"6e50":function(e,t,s){"use strict";s("8214")},"7c25":function(e,t,s){},8214:function(e,t,s){},ecac:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[e.user?s("div",[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:6,xs:24}},[s("user-card",{attrs:{user:e.user}})],1),s("el-col",{attrs:{span:18,xs:24}},[s("el-card",[s("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[e._e(),e._e(),e._e(),s("el-tab-pane",{attrs:{label:"密码修改",name:"password"}},[s("password",{attrs:{"user-name":e.UserName}})],1)],1)],1)],1)],1)],1):e._e()])},r=[],i=s("5530"),l=(s("a15b"),s("2f62")),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",{staticClass:"user-card",staticStyle:{"margin-bottom":"20px"}},[s("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("关于我")]),e.editable?e._e():s("svg-icon",{attrs:{"icon-class":"edit"},on:{click:e.handleEdit}})],1),s("div",{staticClass:"user-profile"},[s("div",{staticClass:"box-center"},[s("pan-thumb",{attrs:{image:e.userInfo.avatar,height:"100px",width:"100px",hoverable:!1}})],1),s("div",{staticClass:"box-center"},[s("div",{staticClass:"user-name text-center"},[e._v("你好,"+e._s(e.userInfo.RealName))]),s("div",{staticClass:"user-role text-center text-muted"},[e._v(" "+e._s(e._f("uppercaseFirst")(e.userInfo.role))+" ")])])]),s("div",{staticClass:"user-bio"},[s("div",{staticClass:"user-education user-bio-section"},[s("div",{staticClass:"user-bio-section-header"},[s("svg-icon",{attrs:{"icon-class":"dashboard"}}),s("span",[e._v("个人信息")])],1),s("div",{staticClass:"user-bio-section-body"},[s("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.userInfo}},[s("el-form-item",{attrs:{label:"性别",prop:"Gender"}},[e.editable?s("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.userInfo.Gender,callback:function(t){e.$set(e.userInfo,"Gender",t)},expression:"userInfo.Gender"}},e._l(e.genderOptions,(function(e,t){return s("el-option",{key:e,attrs:{label:e,value:t}})})),1):s("span",[e._v(e._s(e.genderOptions[e.userInfo.Gender]))])],1),s("el-form-item",{attrs:{label:"生日",prop:"Birthday"}},[e.editable?s("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.userInfo.Birthday,callback:function(t){e.$set(e.userInfo,"Birthday",t)},expression:"userInfo.Birthday"}}):s("span",[e._v(e._s(e.userInfo.Birthday))])],1),s("el-form-item",{attrs:{label:"手机号",prop:"Mobile"}},[e.editable?s("el-input",{attrs:{disabled:!0,maxlength:"11","show-word-limit":""},model:{value:e.userInfo.Mobile,callback:function(t){e.$set(e.userInfo,"Mobile","string"===typeof t?t.trim():t)},expression:"userInfo.Mobile"}}):s("span",[e._v(e._s(e.userInfo.Mobile))])],1),s("el-form-item",{attrs:{label:"邮箱",prop:"Email"}},[e.editable?s("el-input",{model:{value:e.userInfo.Email,callback:function(t){e.$set(e.userInfo,"Email","string"===typeof t?t.trim():t)},expression:"userInfo.Email"}}):s("span",[e._v(e._s(e.userInfo.Email))])],1),e.editable?s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("更新")])],1):e._e()],1)],1)])])])},o=[],c=s("15fd"),u=s("3cbc"),m={components:{PanThumb:u["a"]},props:{user:{type:Object,default:function(){return{RealName:"",Gender:"",Birthday:"",Mobile:"",Email:"",Portrait:"",avatar:"",role:""}}}},data:function(){return{editable:!1,genderOptions:["未知","女","男"],userInfo:{RealName:"",Gender:"",Birthday:"",Mobile:"",Email:"",Portrait:"",avatar:"",role:""},rules:{Mobile:[{required:!1,message:"手机号格式不正确",trigger:"blur",validator:function(e,t,s){t&&!validPhoneNumber(t)?s(new Error("请输入正确的手机号")):s()}}],Email:[{required:!1,trigger:"blur",validator:function(e,t,s){t&&!validEmail(t)?s(new Error("邮箱格式不正确。")):s()}}]}}},created:function(){this.userInfo=Object(i["a"])({},this.user)},methods:{handleEdit:function(){this.editable=!this.editable},submit:function(){var e=this;this.editable=!this.editable;var t=this.user,s=this.userInfo;if(t.Gender!=s.Gender||t.Birthday!=s.Birthday||t.Mobile!=s.Mobile||t.Email!=s.Email){var a=this.userInfo,r=(a.role,a.avatar,Object(c["a"])(a,["role","avatar"]));this.$store.dispatch("user/changeUser",r).then((function(){e.$message({message:"用户信息更新成功",type:"success",duration:3e3})})).catch((function(){}))}}}},d=m,p=(s("fbba"),s("2877")),f=Object(p["a"])(d,n,o,!1,null,"6fe4f5fa",null),b=f.exports,h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-activity"},[s("div",{staticClass:"post"},[s("div",{staticClass:"user-block"},[s("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/57ed425a-c71e-4201-9428-68760c0537c4.jpg"+e.avatarPrefix}}),s("span",{staticClass:"username text-muted"},[e._v("Iron Man")]),s("span",{staticClass:"description"},[e._v("Shared publicly - 7:30 PM today")])]),s("p",[e._v(" Lorem ipsum represents a long-held tradition for designers, typographers and the like. Some people hate it and argue for its demise, but others ignore the hate as they create awesome tools to help create filler text for everyone from bacon lovers to Charlie Sheen fans. ")]),s("ul",{staticClass:"list-inline"},[e._m(0),s("li",[s("span",{staticClass:"link-black text-sm"},[s("svg-icon",{attrs:{"icon-class":"like"}}),e._v(" Like ")],1)])])]),s("div",{staticClass:"post"},[s("div",{staticClass:"user-block"},[s("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/9e2a5d0a-bd5b-457f-ac8e-86554616c87b.jpg"+e.avatarPrefix}}),s("span",{staticClass:"username text-muted"},[e._v("Captain American")]),s("span",{staticClass:"description"},[e._v("Sent you a message - yesterday")])]),s("p",[e._v(" Lorem ipsum represents a long-held tradition for designers, typographers and the like. Some people hate it and argue for its demise, but others ignore the hate as they create awesome tools to help create filler text for everyone from bacon lovers to Charlie Sheen fans. ")]),s("ul",{staticClass:"list-inline"},[e._m(1),s("li",[s("span",{staticClass:"link-black text-sm"},[s("svg-icon",{attrs:{"icon-class":"like"}}),e._v(" Like ")],1)])])]),s("div",{staticClass:"post"},[s("div",{staticClass:"user-block"},[s("img",{staticClass:"img-circle",attrs:{src:"https://wpimg.wallstcn.com/fb57f689-e1ab-443c-af12-8d4066e202e2.jpg"+e.avatarPrefix}}),s("span",{staticClass:"username"},[e._v("Spider Man")]),s("span",{staticClass:"description"},[e._v("Posted 4 photos - 2 days ago")])]),s("div",{staticClass:"user-images"},[s("el-carousel",{attrs:{interval:6e3,type:"card",height:"220px"}},e._l(e.carouselImages,(function(t){return s("el-carousel-item",{key:t},[s("img",{staticClass:"image",attrs:{src:t+e.carouselPrefix}})])})),1)],1),s("ul",{staticClass:"list-inline"},[e._m(2),s("li",[s("span",{staticClass:"link-black text-sm"},[s("svg-icon",{attrs:{"icon-class":"like"}}),e._v(" Like")],1)])])])])},v=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("span",{staticClass:"link-black text-sm"},[s("i",{staticClass:"el-icon-share"}),e._v(" Share ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("span",{staticClass:"link-black text-sm"},[s("i",{staticClass:"el-icon-share"}),e._v(" Share ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("span",{staticClass:"link-black text-sm"},[s("i",{staticClass:"el-icon-share"}),e._v(" Share")])])}],g="?imageView2/1/w/80/h/80",w="?imageView2/2/h/440",y={data:function(){return{carouselImages:["https://wpimg.wallstcn.com/9679ffb0-9e0b-4451-9916-e21992218054.jpg","https://wpimg.wallstcn.com/bcce3734-0837-4b9f-9261-351ef384f75a.jpg","https://wpimg.wallstcn.com/d1d7b033-d75e-4cd6-ae39-fcd5f1c0a7c5.jpg","https://wpimg.wallstcn.com/50530061-851b-4ca5-9dc5-2fead928a939.jpg"],avatarPrefix:g,carouselPrefix:w}}},_=y,C=(s("6e50"),Object(p["a"])(_,h,v,!1,null,"1066d76c",null)),x=C.exports,k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"block"},[s("el-timeline",e._l(e.timeline,(function(t,a){return s("el-timeline-item",{key:a,attrs:{timestamp:t.timestamp,placement:"top"}},[s("el-card",[s("h4",[e._v(e._s(t.title))]),s("p",[e._v(e._s(t.content))])])],1)})),1)],1)},P=[],E={data:function(){return{timeline:[{timestamp:"2019/4/20",title:"Update Github template",content:"PanJiaChen committed 2019/4/20 20:46"},{timestamp:"2019/4/21",title:"Update Github template",content:"PanJiaChen committed 2019/4/21 20:46"},{timestamp:"2019/4/22",title:"Build Template",content:"PanJiaChen committed 2019/4/22 20:46"},{timestamp:"2019/4/23",title:"Release New Version",content:"PanJiaChen committed 2019/4/23 20:46"}]}}},I=E,N=Object(p["a"])(I,k,P,!1,null,null,null),j=N.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",[s("el-form-item",{attrs:{label:"帐号"}},[s("el-input",{attrs:{readonly:!0},model:{value:e.user.UserName,callback:function(t){e.$set(e.user,"UserName","string"===typeof t?t.trim():t)},expression:"user.UserName"}})],1),s("el-form-item",{attrs:{label:"手机号"}},[s("el-input",{attrs:{readonly:!0},model:{value:e.user.UserName,callback:function(t){e.$set(e.user,"UserName","string"===typeof t?t.trim():t)},expression:"user.UserName"}})],1),s("el-form-item",{attrs:{label:"性别"}},[s("el-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email","string"===typeof t?t.trim():t)},expression:"user.email"}})],1),s("el-form-item",{attrs:{label:"生日"}},[s("el-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email","string"===typeof t?t.trim():t)},expression:"user.email"}})],1),s("el-form-item",{attrs:{label:"邮箱"}},[s("el-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email","string"===typeof t?t.trim():t)},expression:"user.email"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("更新")])],1)],1)},O=[],M={props:{user:{type:Object,default:function(){return{name:"",email:""}}}},methods:{submit:function(){var e=this;this.$store.dispatch("user/changeUser",{Email:this.user.email}).then((function(){e.$message({message:"用户信息更新成功",type:"success",duration:3e3})})).catch((function(){}))}}},S=M,U=Object(p["a"])(S,$,O,!1,null,null,null),G=U.exports,B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"dataForm",attrs:{model:e.temp,rules:e.passwordRules}},[s("el-form-item",{attrs:{label:"帐号"}},[s("el-input",{attrs:{disabled:!0},model:{value:e.userName,callback:function(t){e.userName="string"===typeof t?t.trim():t},expression:"userName"}})],1),s("el-form-item",{attrs:{label:"旧密码",prop:"Password"}},[s("el-input",{attrs:{type:"password",tabindex:"1","show-password":""},model:{value:e.temp.Password,callback:function(t){e.$set(e.temp,"Password","string"===typeof t?t.trim():t)},expression:"temp.Password"}})],1),s("el-form-item",{attrs:{label:"新密码",prop:"NewPassword"}},[s("el-input",{attrs:{type:"password",tabindex:"2","show-password":""},model:{value:e.temp.NewPassword,callback:function(t){e.$set(e.temp,"NewPassword","string"===typeof t?t.trim():t)},expression:"temp.NewPassword"}})],1),s("el-form-item",{attrs:{label:"确认密码",prop:"ConfirmPassword"}},[s("el-input",{attrs:{type:"password",tabindex:"3","show-password":""},model:{value:e.temp.ConfirmPassword,callback:function(t){e.$set(e.temp,"ConfirmPassword","string"===typeof t?t.trim():t)},expression:"temp.ConfirmPassword"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("更新")])],1)],1)},R=[],T=s("c24f"),q=s("5f87"),J={props:{userName:{type:String,default:""}},data:function(){var e=this;return{temp:{Id:"",Password:"",NewPassword:"",ConfirmPassword:""},passwordRules:{Password:[{required:!0,trigger:"blur",validator:function(e,t,s){t.length<6?s(new Error("密码不能少于6位")):s()}}],NewPassword:[{required:!0,trigger:"blur",validator:function(t,s,a){s.length<6?a(new Error("密码不能少于6位")):s===e.temp.Password?a(new Error("新密码不能与旧密码相同")):a()}}],ConfirmPassword:[{required:!0,trigger:"blur",validator:function(t,s,a){s.length<6?a(new Error("密码不能少于6位")):s!=e.temp.NewPassword?a(new Error("确认密码与新密码不一致")):a()}}]}}},created:function(){this.temp.Id=Object(q["c"])()},methods:{submit:function(){var e=this;this.$refs.dataForm.validate((function(t){if(!t)return!1;var s=e.temp,a=(s.ConfirmPassword,Object(c["a"])(s,["ConfirmPassword"]));Object(T["a"])(a).then((function(t){e.$message({message:"密码修改成功",type:"success",duration:3e3})}))}))}}},L=J,F=Object(p["a"])(L,B,R,!1,null,null,null),z=F.exports,A={name:"Profile",components:{UserCard:b,Activity:x,Timeline:j,Account:G,Password:z},data:function(){return{user:{},activeTab:"password"}},computed:Object(i["a"])({},Object(l["b"])(["UserName","RealName","Gender","Birthday","Mobile","Email","Portrait","avatar","roles"])),created:function(){this.getUser()},methods:{getUser:function(){this.user={UserName:this.UserName,RealName:this.RealName,Gender:this.Gender,Birthday:this.Birthday,Mobile:this.Mobile,Email:this.Email,Portrait:this.Portrait,role:this.roles.join(" | "),avatar:this.avatar}}}},V=A,D=Object(p["a"])(V,a,r,!1,null,null,null);t["default"]=D.exports},fbba:function(e,t,s){"use strict";s("211d")}}]);
//# sourceMappingURL=chunk-ef7f6f52.2a8aa75d.js.map