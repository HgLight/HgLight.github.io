{"version":3,"sources":["webpack:///./src/views/project/components/staffing.vue?a6d9","webpack:///./src/views/project/index.vue?f4a8","webpack:///./src/components/Pagination/index.vue?eb05","webpack:///./src/api/project.js","webpack:///./src/components/Pagination/index.vue?2268","webpack:///./src/utils/scroll-to.js","webpack:///src/components/Pagination/index.vue","webpack:///./src/components/Pagination/index.vue?029c","webpack:///./src/components/Pagination/index.vue","webpack:///./src/directive/permission/permission.js","webpack:///./src/directive/permission/index.js","webpack:///./src/directive/waves/waves.js","webpack:///./src/directive/waves/index.js","webpack:///./src/views/project/index.vue?2d83","webpack:///./src/api/projectSupervisor.js","webpack:///./src/views/project/components/staffing.vue?66ce","webpack:///src/views/project/components/staffing.vue","webpack:///./src/views/project/components/staffing.vue?75db","webpack:///./src/views/project/components/staffing.vue","webpack:///src/views/project/index.vue","webpack:///./src/views/project/index.vue?2736","webpack:///./src/views/project/index.vue","webpack:///./src/api/personnel.js","webpack:///./src/views/project/index.vue?6472","webpack:///./src/utils/permission.js"],"names":["fetchList","query","request","url","method","params","fetchPageList","fetchListNoBundling","fetchProject","Id","applyProject","data","saveProject","unbundlingProject","deleteProject","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","hidden","_b","attrs","background","currentPage","pageSize","layout","pageSizes","total","on","$event","handleSizeChange","handleCurrentChange","$attrs","staticRenderFns","Math","easeInOutQuad","t","b","c","d","requestAnimFrame","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","move","amount","document","documentElement","scrollTop","body","parentNode","position","scrollTo","to","duration","start","change","increment","currentTime","animateScroll","val","name","props","required","type","Number","page","default","limit","Array","String","Boolean","autoScroll","computed","get","set","$emit","methods","component","checkPermission","el","binding","value","menus","store","getters","Error","length","permissionRoles","hasPermission","some","menu","includes","Authorize","removeChild","inserted","update","install","Vue","directive","permission","use","context","handleClick","handle","e","customOpts","Object","assign","opts","ele","color","target","style","overflow","rect","getBoundingClientRect","ripple","querySelector","className","createElement","height","width","max","appendChild","top","offsetHeight","left","offsetWidth","pageY","pageX","scrollLeft","backgroundColor","removeHandle","bind","addEventListener","removeEventListener","unbind","waves","staticStyle","nativeOn","indexOf","_k","keyCode","key","handleFilter","model","listQuery","$$v","$set","expression","_l","item","Name","DictKey","DictValue","areaOptions","directives","rawName","_v","handleCreate","handleApply","downloadLoading","handleDownload","tableKey","list","sortChange","scopedSlots","_u","fn","ref","row","handleDetail","_s","ProjName","getProjectTypeName","ProjectTypeId","PhaseName","_f","CompletionDate","StatusName","Contact","ProProvince","ProCity","ProjArea","ProjAddr","handleFetchPersonnel","SupervisorCount","handleLookCompany","CompanyName","_e","$index","handleUpdate","handleStaffing","handleModifyStatus","handleContract","handleDelete","PageIndex","PageSize","getList","textMap","dialogStatus","dialogFormVisible","dialogFormClosed","baseDataRules","temp","querySearch","handleSelect","fileList","uploadUrl","headers","text","beforeContractUpload","handleContractChange","handleContractSuccess","handleContractError","beforeContractRemove","handleContractRemove","handleContractExceed","file","slot","ProjCost","BuildingArea","detailDataRules","getPhasesName","PhaseKey","dateRangeChange","ContractUrl","ContractFileName","handleLatLon","createData","updateData","applyData","dialogPersonnelVisible","personnelData","getPostName","PostCode","dialogVisible","dialogImageUrl","saveProjectSupervisor","deleteProjectSupervisor","projectName","projectStatus","projectPhaseName","projectCost","projectBuildingArea","Tel","PostName","cancelEdit","StartDay","edit","Status","active","components","filters","statusFilter","正常","过期","statusMap","projectId","Posts","personnelLibrary","listLoading","undefined","ProjectId","statusOptions","genderOptions","postOptions","sortOptions","SuperviseComId","SupervisorId","BaseIsDelete","BaseVersion","BaseModifyTime","BaseModifierId","BaseCreateTime","BaseCreatorId","Token","create","detail","watch","console","log","oldValue","newValue","created","obj","Detail","post","$confirm","confirmButtonText","cancelButtonText","resetTemp","$refs","validate","valid","title","message","$nextTick","originalStartDay","then","handleIdentityCardFrontSuccess","identity_card_front_url","URL","createObjectURL","raw","handleIdentityCardBackSuccess","identity_card_back_url","handleSupervisionCertificateSuccess","supervision_certificate_url","handlePreview","beforeRemove","handleRemove","beforeAvatarUpload","isJPG","$message","error","isLt2M","excel","export_json_to_excel","header","tHeader","filename","formatJson","map","j","v","getSortClass","sort","acc","cur","display_name","未开始","进行中","已结束","certificateStatusFilter","已过期","deep","handler","Authorization","marker","hideUpload","Phases","Region","selectedAreaOptions","calendarTypeOptions","ProjNo","ProjLng","ProjLat","LatLon","StartDate","staffing","apply","contract","trigger","Phase","posts","mounted","DateRange","EndDate","_","typeId","projectType","mapInit","BMap","Map","centerAndZoom","point","drawMarker","enableScrollWheelZoom","removeOverlay","Marker","addOverlay","phases","$prompt","inputValidator","inputErrorMessage","inputPlaceholder","prop","sortByID","order","copyItem","saveFile","createSavedFile","ContractFileId","Promise","all","resolve","Contract","res","Data","ContractFileSize","size","handleContractUpload","param","append","isPDF","isLt5M","downloadFile","id","savePersonnel","recoveryPersonnel","blacklistPersonnel","deletePersonnel"],"mappings":"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","file":"static/js/chunk-bdfbb8ba.1956f8c3.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./staffing.vue?vue&type=style&index=0&id=67bb7ef9&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=1&id=4f633d78&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4656909a&scoped=true&lang=css&\"","import { request } from \"@/utils/request\";\n\nexport function fetchList(query) {\n  return request({\n    url: \"/Project/GetList\",\n    method: \"get\",\n    params: query\n  });\n}\n\nexport function fetchPageList(query) {\n  return request({\n    url: \"/Project/GetPageList\",\n    method: \"get\",\n    params: query\n  });\n}\nexport function fetchListNoBundling(query) {\n  return request({\n    url: \"/Project/GetListNoBundling\",\n    method: \"get\",\n    params: query\n  });\n}\nexport function fetchProject(Id) {\n  return request({\n    url: \"/Project/GetForm\",\n    method: \"get\",\n    params: { Id }\n  });\n}\n\nexport function applyProject(data) {\n  return request({\n    url: \"/Project/ApplySaveForm\",\n    method: \"post\",\n    data\n  });\n}\n\nexport function saveProject(data) {\n  return request({\n    url: \"/Project/SaveForm\",\n    method: \"post\",\n    data\n  });\n}\nexport function unbundlingProject(data) {\n  return request({\n    url: \"/Project/Unbundling\",\n    method: \"post\",\n    data\n  });\n}\nexport function deleteProject(data) {\n  return request({\n    url: \"/Project/DeleteForm\",\n    method: \"post\",\n    data\n  });\n}\n\n\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pagination-container\",class:{ hidden: _vm.hidden }},[_c('el-pagination',_vm._b({attrs:{\"background\":_vm.background,\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":_vm.layout,\"page-sizes\":_vm.pageSizes,\"total\":_vm.total},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"update:pageSize\":function($event){_vm.pageSize=$event},\"update:page-size\":function($event){_vm.pageSize=$event},\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}},'el-pagination',_vm.$attrs,false))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","Math.easeInOutQuad = function(t, b, c, d) {\n  t /= d / 2\n  if (t < 1) {\n    return c / 2 * t * t + b\n  }\n  t--\n  return -c / 2 * (t * (t - 2) - 1) + b\n}\n\n// requestAnimationFrame for Smart Animating http://goo.gl/sx5sts\nvar requestAnimFrame = (function() {\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(callback) { window.setTimeout(callback, 1000 / 60) }\n})()\n\n/**\n * Because it's so fucking difficult to detect the scrolling element, just move them all\n * @param {number} amount\n */\nfunction move(amount) {\n  document.documentElement.scrollTop = amount\n  document.body.parentNode.scrollTop = amount\n  document.body.scrollTop = amount\n}\n\nfunction position() {\n  return document.documentElement.scrollTop || document.body.parentNode.scrollTop || document.body.scrollTop\n}\n\n/**\n * @param {number} to\n * @param {number} duration\n * @param {Function} callback\n */\nexport function scrollTo(to, duration, callback) {\n  const start = position()\n  const change = to - start\n  const increment = 20\n  let currentTime = 0\n  duration = (typeof (duration) === 'undefined') ? 500 : duration\n  var animateScroll = function() {\n    // increment the time\n    currentTime += increment\n    // find the value with the quadratic in-out easing function\n    var val = Math.easeInOutQuad(currentTime, start, change, duration)\n    // move the document.body\n    move(val)\n    // do the animation unless its over\n    if (currentTime < duration) {\n      requestAnimFrame(animateScroll)\n    } else {\n      if (callback && typeof (callback) === 'function') {\n        // the animation is done so lets callback\n        callback()\n      }\n    }\n  }\n  animateScroll()\n}\n","<template>\n  <div :class=\"{ hidden: hidden }\" class=\"pagination-container\">\n    <el-pagination\n      :background=\"background\"\n      :current-page.sync=\"currentPage\"\n      :page-size.sync=\"pageSize\"\n      :layout=\"layout\"\n      :page-sizes=\"pageSizes\"\n      :total=\"total\"\n      v-bind=\"$attrs\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n    />\n  </div>\n</template>\n\n<script>\nimport { scrollTo } from \"@/utils/scroll-to\";\n\nexport default {\n  name: \"Pagination\",\n  props: {\n    total: {\n      required: true,\n      type: Number,\n    },\n    page: {\n      type: Number,\n      default: 1,\n    },\n    limit: {\n      type: Number,\n      default: 20,\n    },\n    pageSizes: {\n      type: Array,\n      default() {\n        return [10, 20, 30, 50];\n      },\n    },\n    layout: {\n      type: String,\n      default: \"total, sizes, prev, pager, next, jumper\",\n    },\n    background: {\n      type: Boolean,\n      default: true,\n    },\n    autoScroll: {\n      type: Boolean,\n      default: true,\n    },\n    hidden: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    currentPage: {\n      get() {\n        return this.page;\n      },\n      set(val) {\n        this.$emit(\"update:page\", val);\n      },\n    },\n    pageSize: {\n      get() {\n        return this.limit;\n      },\n      set(val) {\n        this.$emit(\"update:limit\", val);\n      },\n    },\n  },\n  methods: {\n    handleSizeChange(val) {\n      this.$emit(\"pagination\", { page: this.currentPage, limit: val });\n      if (this.autoScroll) {\n        scrollTo(0, 800);\n      }\n    },\n    handleCurrentChange(val) {\n      this.$emit(\"pagination\", { page: val, limit: this.pageSize });\n      if (this.autoScroll) {\n        scrollTo(0, 800);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.pagination-container {\n  background: #fff;\n  padding: 20px 16px 0 16px;\n}\n.pagination-container.hidden {\n  display: none;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4656909a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4656909a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4656909a\",\n  null\n  \n)\n\nexport default component.exports","import store from '@/store'\n\nfunction checkPermission(el, binding) {\n  const { value } = binding\n  const menus = store.getters && store.getters.menus\n\n  if (value && value instanceof Array) {\n    if (value.length > 0) {\n      const permissionRoles = value\n\n      const hasPermission = menus.some(menu => {\n        return permissionRoles.includes(menu.Authorize)\n      })\n\n      if (!hasPermission) {\n        el.parentNode && el.parentNode.removeChild(el)\n      }\n    }\n  } else {\n    throw new Error(`need menus! Like v-permission=\"['admin','editor']\"`)\n  }\n}\n\nexport default {\n  inserted(el, binding) {\n    checkPermission(el, binding)\n  },\n  update(el, binding) {\n    checkPermission(el, binding)\n  }\n}\n","import permission from './permission'\n\nconst install = function(Vue) {\n  Vue.directive('permission', permission)\n}\n\nif (window.Vue) {\n  window['permission'] = permission\n  Vue.use(install); // eslint-disable-line\n}\n\npermission.install = install\nexport default permission\n","import './waves.css'\n\nconst context = '@@wavesContext'\n\nfunction handleClick(el, binding) {\n  function handle(e) {\n    const customOpts = Object.assign({}, binding.value)\n    const opts = Object.assign({\n      ele: el, // 波纹作用元素\n      type: 'hit', // hit 点击位置扩散 center中心点扩展\n      color: 'rgba(0, 0, 0, 0.15)' // 波纹颜色\n    },\n    customOpts\n    )\n    const target = opts.ele\n    if (target) {\n      target.style.position = 'relative'\n      target.style.overflow = 'hidden'\n      const rect = target.getBoundingClientRect()\n      let ripple = target.querySelector('.waves-ripple')\n      if (!ripple) {\n        ripple = document.createElement('span')\n        ripple.className = 'waves-ripple'\n        ripple.style.height = ripple.style.width = Math.max(rect.width, rect.height) + 'px'\n        target.appendChild(ripple)\n      } else {\n        ripple.className = 'waves-ripple'\n      }\n      switch (opts.type) {\n        case 'center':\n          ripple.style.top = rect.height / 2 - ripple.offsetHeight / 2 + 'px'\n          ripple.style.left = rect.width / 2 - ripple.offsetWidth / 2 + 'px'\n          break\n        default:\n          ripple.style.top =\n            (e.pageY - rect.top - ripple.offsetHeight / 2 - document.documentElement.scrollTop ||\n              document.body.scrollTop) + 'px'\n          ripple.style.left =\n            (e.pageX - rect.left - ripple.offsetWidth / 2 - document.documentElement.scrollLeft ||\n              document.body.scrollLeft) + 'px'\n      }\n      ripple.style.backgroundColor = opts.color\n      ripple.className = 'waves-ripple z-active'\n      return false\n    }\n  }\n\n  if (!el[context]) {\n    el[context] = {\n      removeHandle: handle\n    }\n  } else {\n    el[context].removeHandle = handle\n  }\n\n  return handle\n}\n\nexport default {\n  bind(el, binding) {\n    el.addEventListener('click', handleClick(el, binding), false)\n  },\n  update(el, binding) {\n    el.removeEventListener('click', el[context].removeHandle, false)\n    el.addEventListener('click', handleClick(el, binding), false)\n  },\n  unbind(el) {\n    el.removeEventListener('click', el[context].removeHandle, false)\n    el[context] = null\n    delete el[context]\n  }\n}\n","import waves from './waves'\n\nconst install = function(Vue) {\n  Vue.directive('waves', waves)\n}\n\nif (window.Vue) {\n  window.waves = waves\n  Vue.use(install); // eslint-disable-line\n}\n\nwaves.install = install\nexport default waves\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"filter-container\"},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"关键词\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleFilter($event)}},model:{value:(_vm.listQuery.ProjName),callback:function ($$v) {_vm.$set(_vm.listQuery, \"ProjName\", $$v)},expression:\"listQuery.ProjName\"}}),_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"项目类别\",\"clearable\":\"\"},model:{value:(_vm.listQuery.ProjectTypeId),callback:function ($$v) {_vm.$set(_vm.listQuery, \"ProjectTypeId\", $$v)},expression:\"listQuery.ProjectTypeId\"}},_vm._l((_vm.projectTypes),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item.Id}})}),1),_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"110px\"},attrs:{\"placeholder\":\"项目阶段\",\"clearable\":\"\"},model:{value:(_vm.listQuery.PhaseKey),callback:function ($$v) {_vm.$set(_vm.listQuery, \"PhaseKey\", $$v)},expression:\"listQuery.PhaseKey\"}},_vm._l((_vm.Phases),function(item){return _c('el-option',{key:item.DictKey,attrs:{\"label\":item.DictValue,\"value\":item.DictKey}})}),1),_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"110px\"},attrs:{\"placeholder\":\"项目状态\",\"clearable\":\"\"},model:{value:(_vm.listQuery.StatusName),callback:function ($$v) {_vm.$set(_vm.listQuery, \"StatusName\", $$v)},expression:\"listQuery.StatusName\"}},_vm._l((_vm.statusOptions),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1),_c('el-cascader',{staticClass:\"filter-item\",staticStyle:{\"width\":\"200px\"},attrs:{\"filterable\":\"\",\"placeholder\":\"所属区域\",\"clearable\":\"\",\"separator\":\"/\",\"show-all-levels\":true,\"options\":_vm.areaOptions},model:{value:(_vm.listQuery.Region),callback:function ($$v) {_vm.$set(_vm.listQuery, \"Region\", $$v)},expression:\"listQuery.Region\"}}),_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],staticClass:\"filter-item\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleFilter}},[_vm._v(\" 查询 \")]),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['ProjectAdd']),expression:\"['ProjectAdd']\"}],staticClass:\"filter-item\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\" 新增 \")]),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['ProjectApply']),expression:\"['ProjectApply']\"}],staticClass:\"filter-item\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.handleApply}},[_vm._v(\" 申请 \")]),_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],staticClass:\"filter-item\",attrs:{\"loading\":_vm.downloadLoading,\"type\":\"primary\",\"icon\":\"el-icon-download\"},on:{\"click\":_vm.handleDownload}},[_vm._v(\" 导出 \")])],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],key:_vm.tableKey,staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\",\"height\":\"72vh\",\"header-cell-style\":{ 'background-color': 'rgba(245,245,245)' }},on:{\"sort-change\":_vm.sortChange}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"type\":\"index\",\"align\":\"center\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"label\":\"项目名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',{staticClass:\"link-type\",on:{\"click\":function($event){return _vm.handleDetail(row)}}},[_vm._v(_vm._s(row.ProjName))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"项目类别\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(_vm.getProjectTypeName(row.ProjectTypeId)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"项目阶段\",\"width\":\"80\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(row.PhaseName))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"预计完成时间\",\"width\":\"110\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(_vm._f(\"parseTime\")(row.CompletionDate,\"{y}-{m}-{d}\")))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"项目状态\",\"width\":\"90\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-tag',{attrs:{\"type\":_vm._f(\"statusFilter\")(row.StatusName)}},[_vm._v(\" \"+_vm._s(row.StatusName)+\" \")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"项目负责人\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(row.Contact))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"所属区域\",\"class-name\":\"status-col\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(row.ProProvince + \"/\" + row.ProCity + \"/\" + row.ProjArea)+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"地点\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(row.ProjAddr))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"监理人数\",\"width\":\"90\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',{staticClass:\"link-type\",on:{\"click\":function($event){return _vm.handleFetchPersonnel(row.Id)}}},[_vm._v(_vm._s(row.SupervisorCount))])]}}])}),(_vm.checkPermission('ProjectCompany'))?_c('el-table-column',{attrs:{\"label\":\"监理单位\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',{staticClass:\"link-type\",on:{\"click\":function($event){return _vm.handleLookCompany(row)}}},[_vm._v(_vm._s(row.CompanyName))])]}}],null,false,3581900980)}):_vm._e(),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":180,\"align\":\"center\",\"fixed\":\"right\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-row',{staticStyle:{\"width\":\"100%\",\"padding\":\"5px\",\"padding-bottom\":\"0px\"},attrs:{\"gutter\":0}},[(false)?_c('el-col',{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"span\":12}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleDetail(row)}}},[_vm._v(\" 查看 \")])],1):_vm._e(),_c('el-col',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['ProjectEdit']),expression:\"['ProjectEdit']\"}],staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"span\":12}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleUpdate(row)}}},[_vm._v(\" 编辑 \")])],1),_c('el-col',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['ProjectStaffing']),expression:\"['ProjectStaffing']\"}],staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"span\":12}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleStaffing(row, $index)}}},[_vm._v(\" 人员配置 \")])],1),(row.CompanyName)?_c('el-col',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['ProjectUnbundling']),expression:\"['ProjectUnbundling']\"}],staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"span\":12}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\"},on:{\"click\":function($event){return _vm.handleModifyStatus(row, $index)}}},[_vm._v(\" 解绑 \")])],1):_vm._e(),_c('el-col',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['ProjectContractUpload']),expression:\"['ProjectContractUpload']\"}],staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"span\":12}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleContract(row)}}},[_vm._v(\" 合同上传 \")])],1),(!row.SupervisorCount || row.SupervisorCount == 0)?_c('el-col',{directives:[{name:\"permission\",rawName:\"v-permission\",value:(['ProjectDelete']),expression:\"['ProjectDelete']\"}],staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"span\":12}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(row, $index)}}},[_vm._v(\" 删除 \")])],1):_vm._e()],1)]}}])})],1),_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total > 0),expression:\"total > 0\"}],attrs:{\"total\":_vm.total,\"page\":_vm.listQuery.PageIndex,\"limit\":_vm.listQuery.PageSize},on:{\"update:page\":function($event){return _vm.$set(_vm.listQuery, \"PageIndex\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.listQuery, \"PageSize\", $event)},\"pagination\":_vm.getList}}),_c('el-dialog',{attrs:{\"width\":\"60%\",\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event},\"closed\":_vm.dialogFormClosed}},[(_vm.dialogStatus === 'apply' || _vm.dialogStatus === 'contract')?_c('el-form',{ref:\"baseDataForm\",staticStyle:{\"height\":\"40vh\"},attrs:{\"rules\":_vm.baseDataRules,\"model\":_vm.temp,\"label-position\":\"left\",\"label-width\":\"110px\"}},[_c('el-row',{attrs:{\"gutter\":0}},[_c('el-col',{attrs:{\"span\":14,\"offset\":3}},[_c('el-form-item',{attrs:{\"label\":\"项目名称\",\"prop\":\"ProjName\"}},[(_vm.dialogStatus === 'apply')?_c('el-autocomplete',{staticStyle:{\"width\":\"100%\"},attrs:{\"fetch-suggestions\":_vm.querySearch,\"value-key\":\"ProjName\",\"placeholder\":\"请输入内容\",\"trigger-on-focus\":false,\"clearable\":\"\",\"suffix-icon\":\"el-icon-search\"},on:{\"select\":_vm.handleSelect},model:{value:(_vm.temp.ProjName),callback:function ($$v) {_vm.$set(_vm.temp, \"ProjName\", $$v)},expression:\"temp.ProjName\"}}):_c('el-input',{attrs:{\"readonly\":_vm.dialogStatus === 'contract'},model:{value:(_vm.temp.ProjName),callback:function ($$v) {_vm.$set(_vm.temp, \"ProjName\", $$v)},expression:\"temp.ProjName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"项目合同\",\"prop\":\"Contract\"}},[_c('el-upload',{ref:\"contractUploader\",staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":_vm.dialogStatus === 'detail',\"file-list\":_vm.temp.fileList,\"action\":_vm.uploadUrl,\"name\":\"file\",\"limit\":1,\"headers\":_vm.headers,\"list-type\":_vm.text,\"show-file-list\":true,\"auto-upload\":true,\"before-upload\":_vm.beforeContractUpload,\"on-change\":_vm.handleContractChange,\"on-success\":_vm.handleContractSuccess,\"on-error\":_vm.handleContractError,\"before-remove\":_vm.beforeContractRemove,\"on-remove\":_vm.handleContractRemove,\"on-exceed\":_vm.handleContractExceed},scopedSlots:_vm._u([{key:\"file\",fn:function(ref){\nvar file = ref.file;\nreturn _c('div',{},[_vm._v(\" \"+_vm._s(file.name)+\" \")])}}],null,false,2631032277)},[_c('i',{attrs:{\"slot\":\"default\"},slot:\"default\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")])],1),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\" 只能上传.pdf文件，且不超过5M \")])])],1)],1)],1)],1):(_vm.dialogStatus == 'staffing')?_c('staffing',{attrs:{\"project-id\":_vm.temp.Id,\"project-name\":_vm.temp.ProjName,\"project-status\":_vm.temp.StatusName,\"project-phase-name\":_vm.temp.PhaseName,\"project-cost\":_vm.temp.ProjCost,\"project-building-area\":_vm.temp.BuildingArea}}):_c('el-form',{ref:\"detailDataForm\",attrs:{\"rules\":_vm.dialogStatus !== 'detail' ? _vm.detailDataRules : null,\"model\":_vm.temp,\"label-position\":\"right\",\"label-width\":\"120px\"}},[_c('el-row',{staticStyle:{\"width\":\"100%\"},attrs:{\"gutter\":0}},[_c('el-col',{attrs:{\"span\":10,\"offset\":1}},[_c('el-form-item',{attrs:{\"label\":\"项目名称\",\"prop\":\"ProjName\"}},[_c('el-input',{attrs:{\"readonly\":_vm.dialogStatus === 'detail'},model:{value:(_vm.temp.ProjName),callback:function ($$v) {_vm.$set(_vm.temp, \"ProjName\", $$v)},expression:\"temp.ProjName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"项目编号\",\"prop\":\"ProjNo\"}},[_c('el-input',{attrs:{\"readonly\":_vm.dialogStatus === 'detail'},model:{value:(_vm.temp.ProjNo),callback:function ($$v) {_vm.$set(_vm.temp, \"ProjNo\", $$v)},expression:\"temp.ProjNo\"}})],1),_c('el-form-item',{attrs:{\"label\":\"工程类别\",\"prop\":\"ProjectTypeId\"}},[(_vm.dialogStatus !== 'detail')?_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\"},model:{value:(_vm.temp.ProjectTypeId),callback:function ($$v) {_vm.$set(_vm.temp, \"ProjectTypeId\", $$v)},expression:\"temp.ProjectTypeId\"}},_vm._l((_vm.projectTypes),function(item){return _c('el-option',{key:item.Id,attrs:{\"label\":item.Name,\"value\":item.Id}})}),1):_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.temp.ProjectTypeId),callback:function ($$v) {_vm.$set(_vm.temp, \"ProjectTypeId\", $$v)},expression:\"temp.ProjectTypeId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"建筑面积(m³)\",\"prop\":\"BuildingArea\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"readonly\":_vm.dialogStatus === 'detail'},model:{value:(_vm.temp.BuildingArea),callback:function ($$v) {_vm.$set(_vm.temp, \"BuildingArea\", $$v)},expression:\"temp.BuildingArea\"}})],1),_c('el-form-item',{attrs:{\"label\":\"工程造价(万元)\",\"prop\":\"ProjCost\"}},[_c('el-input',{attrs:{\"type\":\"number\",\"readonly\":_vm.dialogStatus === 'detail'},model:{value:(_vm.temp.ProjCost),callback:function ($$v) {_vm.$set(_vm.temp, \"ProjCost\", $$v)},expression:\"temp.ProjCost\"}})],1),_c('el-form-item',{attrs:{\"label\":\"预计开始时间\",\"prop\":\"StartDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"readonly\":_vm.dialogStatus === 'detail'},model:{value:(_vm.temp.StartDate),callback:function ($$v) {_vm.$set(_vm.temp, \"StartDate\", $$v)},expression:\"temp.StartDate\"}},[_vm._v(\" > \")])],1),_c('el-form-item',{attrs:{\"label\":\"预计完成时间\",\"prop\":\"CompletionDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"readonly\":_vm.dialogStatus === 'detail'},model:{value:(_vm.temp.CompletionDate),callback:function ($$v) {_vm.$set(_vm.temp, \"CompletionDate\", $$v)},expression:\"temp.CompletionDate\"}},[_vm._v(\" > \")])],1),_c('el-form-item',{attrs:{\"label\":\"工程阶段\",\"prop\":\"Phase\"}},_vm._l((_vm.temp.Phase),function(item){return _c('el-form-item',{key:item.DictKey,attrs:{\"label-width\":\"50px\",\"label\":_vm.getPhasesName(item.PhaseKey),\"required\":_vm.dialogStatus !== 'detail'}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"daterange\",\"placeholder\":\"选择日期\",\"readonly\":_vm.dialogStatus === 'detail',\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\"},on:{\"change\":function($event){return _vm.dateRangeChange(item)}},model:{value:(item.DateRange),callback:function ($$v) {_vm.$set(item, \"DateRange\", $$v)},expression:\"item.DateRange\"}})],1)}),1),(\n              _vm.dialogStatus === 'detail' && _vm.checkPermission('ProjectCompany')\n            )?_c('el-form-item',{attrs:{\"label\":\"当前监理单位\",\"prop\":\"CompanyName\"}},[_c('el-input',{attrs:{\"readonly\":_vm.dialogStatus === 'detail'},model:{value:(_vm.temp.CompanyName),callback:function ($$v) {_vm.$set(_vm.temp, \"CompanyName\", $$v)},expression:\"temp.CompanyName\"}})],1):_vm._e(),(_vm.dialogStatus === 'detail')?_c('el-form-item',{attrs:{\"label\":\"监理合同\",\"prop\":\"Contract\"}},[(_vm.temp.ContractFileName)?_c('el-link',{attrs:{\"type\":\"primary\",\"href\":_vm.temp.ContractUrl}},[_vm._v(_vm._s(_vm.temp.ContractFileName))]):_c('el-link',{attrs:{\"type\":\"info\",\"disabled\":\"\"}},[_vm._v(\"未上传监理合同\")])],1):_vm._e()],1),_c('el-col',{staticClass:\"upload-container\",attrs:{\"span\":10,\"offset\":1}},[_c('el-form-item',{attrs:{\"label\":\"负责人\",\"prop\":\"Contact\"}},[_c('el-input',{attrs:{\"readonly\":_vm.dialogStatus === 'detail'},model:{value:(_vm.temp.Contact),callback:function ($$v) {_vm.$set(_vm.temp, \"Contact\", $$v)},expression:\"temp.Contact\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系方式\",\"prop\":\"Tel\"}},[_c('el-input',{attrs:{\"readonly\":_vm.dialogStatus === 'detail',\"maxlength\":\"11\",\"show-word-limit\":\"\"},model:{value:(_vm.temp.Tel),callback:function ($$v) {_vm.$set(_vm.temp, \"Tel\", $$v)},expression:\"temp.Tel\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属区域\",\"prop\":\"Region\"}},[(_vm.dialogStatus !== 'detail')?_c('el-cascader',{staticClass:\"filter-item\",staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"placeholder\":\"所属区域\",\"clearable\":\"\",\"separator\":\"/\",\"show-all-levels\":true,\"options\":_vm.areaOptions},model:{value:(_vm.temp.Region),callback:function ($$v) {_vm.$set(_vm.temp, \"Region\", $$v)},expression:\"temp.Region\"}}):_c('el-input',{attrs:{\"value\":_vm.temp.ProProvince + '/' + _vm.temp.ProCity + '/' + _vm.temp.ProjArea,\"readonly\":\"\"}})],1),_c('el-form-item',{attrs:{\"label\":\"详细地址\",\"prop\":\"ProjAddr\"}},[_c('el-input',{attrs:{\"readonly\":_vm.dialogStatus === 'detail'},model:{value:(_vm.temp.ProjAddr),callback:function ($$v) {_vm.$set(_vm.temp, \"ProjAddr\", $$v)},expression:\"temp.ProjAddr\"}})],1),_c('el-form-item',{attrs:{\"label\":\"定位\",\"prop\":\"LatLon\"}},[_c('div',{staticClass:\"map\",attrs:{\"id\":\"mapContainer\"}}),_c('el-input',{attrs:{\"placeholder\":\"经纬度\",\"readonly\":_vm.dialogStatus === 'detail'},on:{\"change\":_vm.handleLatLon},model:{value:(_vm.temp.LatLon),callback:function ($$v) {_vm.$set(_vm.temp, \"LatLon\", $$v)},expression:\"temp.LatLon\"}})],1),(_vm.dialogStatus === 'detail')?_c('el-form-item',{attrs:{\"label\":\"项目状态\",\"prop\":\"StatusName\"}},[_c('el-input',{attrs:{\"readonly\":_vm.dialogStatus === 'detail'},model:{value:(_vm.temp.StatusName),callback:function ($$v) {_vm.$set(_vm.temp, \"StatusName\", $$v)},expression:\"temp.StatusName\"}})],1):_vm._e()],1)],1)],1),(_vm.dialogStatus !== 'staffing' && _vm.dialogStatus !== 'detail')?_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.dialogStatus !== 'detail')?_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\" 取消 \")]):_vm._e(),(_vm.dialogStatus !== 'detail')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogStatus === 'create'\n            ? _vm.createData()\n            : _vm.dialogStatus === 'update'\n            ? _vm.updateData()\n            : _vm.applyData()}}},[_vm._v(\" \"+_vm._s(_vm.dialogStatus === \"detail\" ? \"确定\" : \"提交\")+\" \")]):_vm._e()],1):_vm._e()],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogPersonnelVisible,\"title\":\"监理人员\",\"width\":\"70%\"},on:{\"update:visible\":function($event){_vm.dialogPersonnelVisible=$event}}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.personnelData,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\",\"height\":\"52vh\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"type\":\"index\",\"align\":\"center\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"Name\",\"label\":\"姓名\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"PostCode\",\"label\":\"岗位\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n            var row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(_vm.getPostName(row.PostCode)))])]}}])}),(false)?_c('el-table-column',{attrs:{\"prop\":\"CardId\",\"label\":\"身份证\",\"align\":\"center\"}}):_vm._e(),_c('el-table-column',{attrs:{\"prop\":\"Tel\",\"label\":\"联系方式\",\"align\":\"center\"}}),(false)?_c('el-table-column',{attrs:{\"prop\":\"ProjectName\",\"label\":\"所属项目\",\"align\":\"center\"}}):_vm._e(),(false)?_c('el-table-column',{attrs:{\"prop\":\"CertificateStatusName\",\"label\":\"证书状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n            var row = ref.row;\nreturn [_c('el-tag',{attrs:{\"type\":_vm._f(\"certificateStatusFilter\")(row.CertificateStatusName)}},[_vm._v(\" \"+_vm._s(row.CertificateStatusName)+\" \")])]}}],null,false,4086876086)}):_vm._e()],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogPersonnelVisible = false}}},[_vm._v(\"确定\")])],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"title\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {request} from '@/utils/request'\n\nexport function fetchList(query) {\n  return request({\n    url: 'ProjectSupervisor/GetList',\n    method: 'get',\n    params: query\n  })\n}\n\nexport function fetchProject(id) {\n  return request({\n    url: '/vue-element-admin/project/detail',\n    method: 'get',\n    params: { id }\n  })\n}\n\nexport function fetchPersonnel(id) {\n  return request({\n    url: '/vue-element-admin/project/personnel',\n    method: 'get',\n    params: { id }\n  })\n}\n\nexport function createProject(data) {\n  return request({\n    url: '/vue-element-admin/project/create',\n    method: 'post',\n    data\n  })\n}\n\nexport function updateProject(data) {\n  return request({\n    url: '/vue-element-admin/project/update',\n    method: 'post',\n    data\n  })\n}\n\nexport function saveProjectSupervisor(data) {\n  return request({\n    url: '/ProjectSupervisor/SaveForm',\n    method: 'post',\n    data\n  })\n}\n\nexport function deleteProjectSupervisor(data) {\n  return request({\n    url: '/ProjectSupervisor/DeleteForm',\n    method: 'post',\n    data\n  })\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container1\"},[_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":24,\"offset\":0}},[_c('b',[_vm._v(\"项目：\")]),_vm._v(\" \"),_c('b',[_vm._v(_vm._s(_vm.projectName))]),_vm._v(\" ｜\"),_c('b',[_vm._v(_vm._s(_vm.projectStatus))]),_vm._v(\" ｜\"),_c('b',[_vm._v(_vm._s(_vm.projectPhaseName)+\"阶段\")]),_vm._v(\"｜ \"),_c('b',[_vm._v(\"工程造价：\"+_vm._s(_vm.projectCost)+\"万元\")]),_vm._v(\"｜ \"),_c('b',[_vm._v(\"总建筑面积：\"+_vm._s(_vm.projectBuildingArea)+\"m²\")])])],1),_c('el-alert',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"title\":\"人员配置要求：总监1人   专监2人  监理3人\",\"type\":\"warning\",\"closable\":false}}),_c('div',{staticClass:\"filter-container\"},[(false)?_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"关键词\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleFilter($event)}},model:{value:(_vm.listQuery.Name),callback:function ($$v) {_vm.$set(_vm.listQuery, \"Name\", $$v)},expression:\"listQuery.Name\"}}):_vm._e(),(false)?_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"100px\"},attrs:{\"placeholder\":\"岗位\",\"clearable\":\"\"},model:{value:(_vm.listQuery.PostCode),callback:function ($$v) {_vm.$set(_vm.listQuery, \"PostCode\", $$v)},expression:\"listQuery.PostCode\"}},_vm._l((_vm.Posts),function(item){return _c('el-option',{key:item.DictKey,attrs:{\"label\":item.DictValue,\"value\":item.DictKey}})}),1):_vm._e(),(false)?_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],staticClass:\"filter-item\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleFilter}},[_vm._v(\" 查询 \")]):_vm._e(),_c('el-button',{directives:[{name:\"waves\",rawName:\"v-waves\"}],staticClass:\"filter-item\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\" 新增 \")])],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],key:_vm.tableKey,staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\",\"height\":\"44vh\",\"header-cell-style\":{ 'background-color': 'rgba(245,245,245)' }}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"type\":\"index\",\"align\":\"center\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"label\":\"姓名\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',{staticClass:\"link-type\",on:{\"click\":function($event){return _vm.handleDetail(row)}}},[_vm._v(_vm._s(row.Name))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"联系方式\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(row.Tel))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"岗位\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s(row.PostName))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"入场时间\",\"align\":\"center\",\"min-width\":\"200px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.edit)?[_c('el-date-picker',{staticClass:\"edit-input\",staticStyle:{\"width\":\"200px\",\"margin-right\":\"10px\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"size\":\"mini\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(row.StartDay),callback:function ($$v) {_vm.$set(row, \"StartDay\", $$v)},expression:\"row.StartDay\"}}),_c('el-button',{staticClass:\"cancel-btn\",attrs:{\"size\":\"mini\",\"icon\":\"el-icon-refresh\",\"type\":\"warning\"},on:{\"click\":function($event){return _vm.cancelEdit(row)}}},[_vm._v(\" 取消 \")])]:_c('span',[_vm._v(_vm._s(_vm._f(\"parseTime\")(row.StartDay,\"{y}-{m}-{d}\")))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"150\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [(row.edit)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.updateData(row)}}},[_vm._v(\" 提交 \")]):_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){row.edit = !row.edit}}},[_vm._v(\" 编辑 \")]),(row.Status != '已删除')?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(row, $index)}}},[_vm._v(\" 删除 \")]):_vm._e()]}}])})],1),(false)?_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total > 0),expression:\"total > 0\"}],attrs:{\"total\":_vm.total,\"page\":_vm.listQuery.PageIndex,\"limit\":_vm.listQuery.PageSize},on:{\"update:page\":function($event){return _vm.$set(_vm.listQuery, \"PageIndex\", $event)},\"update:limit\":function($event){return _vm.$set(_vm.listQuery, \"PageSize\", $event)},\"pagination\":_vm.getList}}):_vm._e(),_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.dialogFormVisible,\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event},\"closed\":_vm.dialogFormClosed}},[(_vm.dialogStatus === 'create' && _vm.active == 0)?_c('el-form',{ref:\"baseDataForm\",staticStyle:{\"height\":\"40vh\"},attrs:{\"rules\":_vm.baseDataRules,\"model\":_vm.temp,\"label-position\":\"left\",\"label-width\":\"110px\"}},[_c('el-row',{staticStyle:{\"width\":\"100%\"},attrs:{\"gutter\":0}},[_c('el-col',{attrs:{\"span\":13,\"offset\":5}},[_c('el-form-item',{attrs:{\"label\":\"人员选择\",\"prop\":\"Name\"}},[_c('el-autocomplete',{attrs:{\"fetch-suggestions\":_vm.querySearch,\"value-key\":\"Name\",\"placeholder\":\"请输入内容\",\"trigger-on-focus\":false,\"clearable\":\"\",\"suffix-icon\":\"el-icon-search\"},on:{\"select\":_vm.handleSelect},model:{value:(_vm.temp.Name),callback:function ($$v) {_vm.$set(_vm.temp, \"Name\", $$v)},expression:\"temp.Name\"}})],1)],1)],1)],1):_vm._e(),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\" 取消 \")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogStatus === 'create' ? _vm.createData() : _vm.updateData()}}},[_vm._v(\" 确认 \")])],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"title\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-container1\">\n    <el-row :gutter=\"20\" style=\"margin-bottom: 10px\">\n      <el-col :span=\"24\" :offset=\"0\">\n        <b>项目：</b> <b>{{ projectName }}</b> ｜<b>{{ projectStatus }}</b> ｜<b\n          >{{ projectPhaseName }}阶段</b\n        >｜ <b>工程造价：{{ projectCost }}万元</b>｜\n        <b>总建筑面积：{{ projectBuildingArea }}m²</b>\n      </el-col>\n    </el-row>\n\n    <el-alert\n      style=\"margin-bottom: 10px\"\n      title=\"人员配置要求：总监1人   专监2人  监理3人\"\n      type=\"warning\"\n      :closable=\"false\"\n    >\n    </el-alert>\n    <div class=\"filter-container\">\n      <el-input\n        v-if=\"false\"\n        v-model=\"listQuery.Name\"\n        placeholder=\"关键词\"\n        style=\"width: 200px\"\n        class=\"filter-item\"\n        @keyup.enter.native=\"handleFilter\"\n      />\n      <el-select\n        v-if=\"false\"\n        v-model=\"listQuery.PostCode\"\n        placeholder=\"岗位\"\n        clearable\n        style=\"width: 100px\"\n        class=\"filter-item\"\n      >\n        <el-option\n          v-for=\"item in Posts\"\n          :key=\"item.DictKey\"\n          :label=\"item.DictValue\"\n          :value=\"item.DictKey\"\n        />\n      </el-select>\n      <el-button\n        v-if=\"false\"\n        v-waves\n        class=\"filter-item\"\n        type=\"primary\"\n        icon=\"el-icon-search\"\n        @click=\"handleFilter\"\n      >\n        查询\n      </el-button>\n      <el-button\n        v-waves\n        class=\"filter-item\"\n        style=\"margin-left: 10px\"\n        type=\"primary\"\n        icon=\"el-icon-edit\"\n        @click=\"handleCreate\"\n      >\n        新增\n      </el-button>\n    </div>\n    <el-table\n      :key=\"tableKey\"\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%\"\n      height=\"44vh\"\n      :header-cell-style=\"{ 'background-color': 'rgba(245,245,245)' }\"\n    >\n      <el-table-column label=\"序号\" type=\"index\" align=\"center\" width=\"80\">\n      </el-table-column>\n      <el-table-column label=\"姓名\" align=\"center\">\n        <template slot-scope=\"{ row }\">\n          <span class=\"link-type\" @click=\"handleDetail(row)\">{{\n            row.Name\n          }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"联系方式\" align=\"center\">\n        <template slot-scope=\"{ row }\">\n          <span>{{ row.Tel }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"岗位\" align=\"center\">\n        <template slot-scope=\"{ row }\">\n          <span>{{ row.PostName }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"入场时间\" align=\"center\" min-width=\"200px\">\n        <template slot-scope=\"{ row }\">\n          <template v-if=\"row.edit\">\n            <el-date-picker\n              v-model=\"row.StartDay\"\n              type=\"date\"\n              placeholder=\"选择日期\"\n              class=\"edit-input\"\n              size=\"mini\"\n              format=\"yyyy-MM-dd\"\n              value-format=\"yyyy-MM-dd\"\n              style=\"width: 200px; margin-right: 10px\"\n            >\n            </el-date-picker>\n            <el-button\n              class=\"cancel-btn\"\n              size=\"mini\"\n              icon=\"el-icon-refresh\"\n              type=\"warning\"\n              @click=\"cancelEdit(row)\"\n            >\n              取消\n            </el-button>\n          </template>\n          <span v-else>{{ row.StartDay | parseTime(\"{y}-{m}-{d}\") }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"操作\"\n        align=\"center\"\n        width=\"150\"\n        class-name=\"small-padding fixed-width\"\n      >\n        <template slot-scope=\"{ row, $index }\">\n          <el-button\n            v-if=\"row.edit\"\n            type=\"primary\"\n            size=\"mini\"\n            @click=\"updateData(row)\"\n          >\n            提交\n          </el-button>\n          <el-button\n            v-else\n            type=\"primary\"\n            size=\"mini\"\n            @click=\"row.edit = !row.edit\"\n          >\n            编辑\n          </el-button>\n          <el-button\n            v-if=\"row.Status != '已删除'\"\n            size=\"mini\"\n            type=\"danger\"\n            @click=\"handleDelete(row, $index)\"\n          >\n            删除\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n      v-if=\"false\"\n      v-show=\"total > 0\"\n      :total=\"total\"\n      :page.sync=\"listQuery.PageIndex\"\n      :limit.sync=\"listQuery.PageSize\"\n      @pagination=\"getList\"\n    />\n\n    <el-dialog\n      :title=\"textMap[dialogStatus]\"\n      :visible.sync=\"dialogFormVisible\"\n      append-to-body\n      @closed=\"dialogFormClosed\"\n    >\n      <el-form\n        v-if=\"dialogStatus === 'create' && active == 0\"\n        ref=\"baseDataForm\"\n        :rules=\"baseDataRules\"\n        :model=\"temp\"\n        label-position=\"left\"\n        label-width=\"110px\"\n        style=\"height: 40vh\"\n      >\n        <el-row :gutter=\"0\" style=\"width: 100%\">\n          <el-col :span=\"13\" :offset=\"5\">\n            <el-form-item label=\"人员选择\" prop=\"Name\">\n              <el-autocomplete\n                v-model=\"temp.Name\"\n                :fetch-suggestions=\"querySearch\"\n                value-key=\"Name\"\n                placeholder=\"请输入内容\"\n                :trigger-on-focus=\"false\"\n                @select=\"handleSelect\"\n                clearable\n                suffix-icon=\"el-icon-search\"\n              />\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\"> 取消 </el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"dialogStatus === 'create' ? createData() : updateData()\"\n        >\n          确认\n        </el-button>\n      </div>\n    </el-dialog>\n    <el-dialog :visible.sync=\"dialogVisible\" title=\"\">\n      <img :src=\"dialogImageUrl\" alt=\"\" />\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport {\n  fetchList,\n  saveProjectSupervisor,\n  deleteProjectSupervisor,\n} from \"@/api/projectSupervisor\";\nimport { fetchList as fetchPersonnelList } from \"@/api/personnel\";\nimport waves from \"@/directive/waves\"; // waves directive\nimport permission from \"@/directive/permission/index.js\"; // 权限判断指令\nimport checkPermission from \"@/utils/permission\"; // 权限判断函数\nimport { parseTime } from \"@/utils\";\nimport Pagination from \"@/components/Pagination\"; // secondary package based on el-pagination\n\nexport default {\n  name: \"Staffing\",\n  components: { Pagination },\n  directives: { waves, permission },\n  filters: {\n    statusFilter(Status) {\n      const statusMap = {\n        正常: \"success\",\n        过期: \"danger\",\n      };\n      return statusMap[Status];\n    },\n  },\n  props: {\n    projectId: {\n      type: String,\n      default: \"0\",\n    },\n    projectName: {\n      type: String,\n      default: \"\",\n    },\n    projectStatus: {\n      type: String,\n      default: \"\",\n    },\n    projectPhaseName: {\n      type: String,\n      default: \"\",\n    },\n    projectCost: {\n      type: String,\n      default: \"\",\n    },\n    projectBuildingArea: {\n      type: String,\n      default: \"\",\n    },\n  },\n  data() {\n    return {\n      active: 0,\n      tableKey: 0,\n      dialogImageUrl: \"\",\n      dialogVisible: false,\n      Posts: [],\n      list: null,\n      personnelLibrary: [],\n      total: 0,\n      listLoading: true,\n      listQuery: {\n        PageIndex: 1,\n        PostCode: undefined,\n        ProjectId: 0,\n        PageSize: 20,\n      },\n      statusOptions: [\"正常\", \"过期\"],\n      genderOptions: [\"男\", \"女\"],\n      postOptions: [\"总监\", \"专监\", \"监理\"],\n      sortOptions: [\n        { label: \"ID 升序\", key: \"+id\" },\n        { label: \"ID 降序\", key: \"-id\" },\n      ],\n      temp: {\n        SuperviseComId: 0,\n        SupervisorId: 0,\n        ProjectId: 0,\n        StartDay: \"\",\n        Status: 0,\n        Name: \"\",\n        Tel: \"\",\n        PostCode: 0,\n        PostName: \"\",\n        BaseIsDelete: 0,\n        BaseVersion: 0,\n        BaseModifyTime: \"\",\n        BaseModifierId: 0,\n        BaseCreateTime: \"\",\n        BaseCreatorId: 0,\n        Id: 0,\n        Token: \"\",\n      },\n      dialogFormVisible: false,\n      dialogStatus: \"\",\n      textMap: {\n        update: \"人员编辑\",\n        create: \"人员新增\",\n        detail: \"人员详情\",\n      },\n      baseDataRules: {\n        Name: [\n          {\n            required: true,\n            message: \"姓名为必填项\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n      downloadLoading: false,\n    };\n  },\n  computed: {\n    ...mapGetters([\"dicts\"]),\n  },\n  watch: {\n    projectId(newValue, oldValue) {\n      console.log(oldValue, newValue);\n      this.listQuery.ProjectId = newValue;\n      console.log(this.listQuery, this.listQuery);\n      this.getList();\n    },\n  },\n  created() {\n    let obj = this.dicts.find((dict) => dict.DictType == \"Post\");\n    if (obj) {\n      this.Posts = obj.Detail;\n    }\n    this.listQuery.ProjectId = this.projectId;\n    this.getList();\n  },\n  methods: {\n    checkPermission,\n    getPostName(postCode) {\n      let post = this.Posts.find((post) => post.DictKey == postCode);\n      return post ? post.DictValue : \"\";\n    },\n    getList() {\n      this.listLoading = true;\n      fetchList(this.listQuery)\n        .then((response) => {\n          const data = response.Data;\n          this.list = data.map((v) => {\n            this.$set(v, \"edit\", false); // https://vuejs.org/v2/guide/reactivity.html\n            v.originalStartDay = v.StartDay; //  will be used when user click the cancel botton\n            return v;\n          });\n\n          this.total = response.Total;\n          this.listLoading = false;\n        })\n        .catch((error) => {\n          this.listLoading = false;\n        });\n    },\n    handleFilter() {\n      this.listQuery.PageIndex = 1;\n      this.getList();\n    },\n    handleModifyStatus(row, index) {\n      this.$confirm(\"此操作将拉黑人员, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then((_) => {\n          this.$notify({\n            title: \"成功提示\",\n            message: \"操作成功\",\n            type: \"success\",\n            duration: 2000,\n          });\n          row.isBlacklist = 1;\n          this.list.splice(index, 1);\n        })\n        .catch((_) => {});\n    },\n    resetTemp() {\n      this.temp = {\n        SuperviseComId: 0,\n        SupervisorId: 0,\n        ProjectId: 0,\n        StartDay: \"\",\n        Status: 0,\n        Name: \"\",\n        Tel: \"\",\n        PostCode: 0,\n        PostName: \"\",\n        BaseIsDelete: 0,\n        BaseVersion: 0,\n        BaseModifyTime: \"\",\n        BaseModifierId: 0,\n        BaseCreateTime: \"\",\n        BaseCreatorId: 0,\n        Id: 0,\n        Token: \"\",\n      };\n    },\n    querySearch(queryString, cb) {\n      fetchPersonnelList({ Name: queryString, Beblack: 0 })\n        .then((response) => {\n          const data = response.Data;\n\n          cb(data);\n        })\n        .catch((error) => {\n          cb([]);\n        });\n    },\n    handleSelect(item) {\n      console.log(1111111111111);\n      console.log(item);\n      this.temp.SupervisorId = item.Id;\n      this.temp.ProjectId = this.projectId;\n      this.temp.Tel = item.Tel;\n      this.temp.PostCode = item.PostCode;\n      this.temp.PostName = this.getPostName(item.PostCode);\n    },\n    handleCreate() {\n      this.resetTemp();\n      this.dialogStatus = \"create\";\n      this.dialogFormVisible = true;\n    },\n    createData() {\n      this.$refs[\"baseDataForm\"].validate((valid) => {\n        if (valid) {\n          this.temp.StartDay = parseTime(new Date(), \"{y}-{m}-{d}\");\n          console.log(\"temp\", this.temp);\n          saveProjectSupervisor(this.temp).then(() => {\n            this.$notify({\n              title: \"成功\",\n              message: \"操作成功\",\n              type: \"success\",\n              duration: 2000,\n            });\n            this.dialogFormVisible = false;\n            this.getList();\n          });\n        }\n      });\n    },\n    handleDetail(row) {\n      this.temp = Object.assign({}, row); // copy obj\n      this.dialogStatus = \"detail\";\n      this.dialogFormVisible = true;\n      this.$nextTick(() => {\n        this.$refs[\"detailDataForm\"].clearValidate();\n      });\n    },\n    cancelEdit(row) {\n      row.StartDay = row.originalStartDay;\n      row.edit = false;\n      // this.$message({\n      //   message: \"The title has been restored to the original value\",\n      //   type: \"warning\",\n      // });\n    },\n    updateData(row) {\n      if (row.StartDay) {\n        if (row.StartDay == row.originalStartDay) {\n          row.edit = false;\n          return;\n        }\n        // try {\n        //   let startDate = Date.parse(row.StartDay);\n        //   alert(startDate);\n        // } catch (error) {\n        //   alert(error);\n        // }\n        saveProjectSupervisor(row).then(() => {\n          this.$notify({\n            title: \"成功\",\n            message: \"操作成功\",\n            type: \"success\",\n            duration: 2000,\n          });\n          row.edit = false;\n          row.originalStartDay = row.StartDay;\n        });\n      }\n    },\n    dialogFormClosed() {\n      this.active = 0;\n      this.dialogFormVisible = false;\n    },\n    handleIdentityCardFrontSuccess(res, file) {\n      this.temp.identity_card_front_url = URL.createObjectURL(file.raw);\n    },\n    handleIdentityCardBackSuccess(res, file) {\n      this.temp.identity_card_back_url = URL.createObjectURL(file.raw);\n    },\n    handleSupervisionCertificateSuccess(res, file) {\n      this.temp.supervision_certificate_url = URL.createObjectURL(file.raw);\n    },\n    handlePreview(file) {\n      console.log(file);\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    beforeRemove(file, fileList) {\n      return this.$confirm(`确定移除 ${file.name}？`);\n    },\n    handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === \"image/jpeg\";\n      const isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG) {\n        this.$message.error(\"上传头像图片只能是 JPG 格式!\");\n      }\n      if (!isLt2M) {\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\n      }\n      return isJPG && isLt2M;\n    },\n    handleDelete(row, index) {\n      this.$confirm(\"此操作将删除该数据, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then((_) => {\n          deleteProjectSupervisor({ Ids: row.Id })\n            .then(() => {\n              this.getList();\n              this.$notify({\n                title: \"成功\",\n                message: \"删除成功\",\n                type: \"success\",\n                duration: 2000,\n              });\n            })\n            .catch((error) => {});\n        })\n        .catch((_) => {});\n    },\n\n    handleDownload() {\n      this.downloadLoading = true;\n      import(\"@/vendor/Export2Excel\").then((excel) => {\n        const tHeader = [\n          \"ID\",\n          \"姓名\",\n          \"联系方式\",\n          \"岗位\",\n          \"身份证号\",\n          \"证书有效期\",\n          \"证书状态\",\n          \"在监项目数\",\n          \"所属监理单位\",\n          \"创建时间\",\n        ];\n        const filterVal = [\n          \"id\",\n          \"Name\",\n          \"Tel\",\n          \"post\",\n          \"ID\",\n          \"certificate_limit_time\",\n          \"Status\",\n          \"ProjectCount\",\n          \"belong_company_name\",\n          \"timestamp\",\n        ];\n        const data = this.formatJson(filterVal);\n        excel.export_json_to_excel({\n          header: tHeader,\n          data,\n          filename: \"人员列表\",\n        });\n        this.downloadLoading = false;\n      });\n    },\n    formatJson(filterVal) {\n      return this.list.map((v) =>\n        filterVal.map((j) => {\n          if (j === \"timestamp\") {\n            return parseTime(v[j]);\n          } else {\n            return v[j];\n          }\n        })\n      );\n    },\n    getSortClass: function (key) {\n      const sort = this.listQuery.sort;\n      return sort === `+${key}` ? \"ascending\" : \"descending\";\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.upload-container {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  .avatar-uploader {\n    margin-bottom: 20px;\n    ::v-deep .el-upload--picture-card {\n      width: 171.2px;\n      height: 108px;\n      line-height: 108px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin-bottom: 10px;\n    }\n  }\n\n  .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409eff;\n  }\n  .el-upload--picture-card {\n    background-color: #fbfdff;\n    border: 1px dashed #c0ccda;\n    border-radius: 6px;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    width: 100px;\n    height: 100px !important;\n    cursor: pointer;\n    line-height: 100px !important;\n    vertical-align: top;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 100%;\n    height: 100px;\n    line-height: 100px;\n    text-align: center;\n  }\n  .avatar {\n    width: 100%;\n    height: 100%;\n    display: block;\n    background-color: rgba(249, 249, 249, 1);\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./staffing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./staffing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./staffing.vue?vue&type=template&id=67bb7ef9&scoped=true&\"\nimport script from \"./staffing.vue?vue&type=script&lang=js&\"\nexport * from \"./staffing.vue?vue&type=script&lang=js&\"\nimport style0 from \"./staffing.vue?vue&type=style&index=0&id=67bb7ef9&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67bb7ef9\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <el-input\n        v-model=\"listQuery.ProjName\"\n        placeholder=\"关键词\"\n        style=\"width: 200px\"\n        class=\"filter-item\"\n        @keyup.enter.native=\"handleFilter\"\n      />\n      <el-select\n        v-model=\"listQuery.ProjectTypeId\"\n        placeholder=\"项目类别\"\n        clearable\n        style=\"width: 200px\"\n        class=\"filter-item\"\n      >\n        <el-option\n          v-for=\"item in projectTypes\"\n          :key=\"item.Id\"\n          :label=\"item.Name\"\n          :value=\"item.Id\"\n        />\n      </el-select>\n      <el-select\n        v-model=\"listQuery.PhaseKey\"\n        placeholder=\"项目阶段\"\n        clearable\n        style=\"width: 110px\"\n        class=\"filter-item\"\n      >\n        <el-option\n          v-for=\"item in Phases\"\n          :key=\"item.DictKey\"\n          :label=\"item.DictValue\"\n          :value=\"item.DictKey\"\n        />\n      </el-select>\n      <el-select\n        v-model=\"listQuery.StatusName\"\n        placeholder=\"项目状态\"\n        clearable\n        style=\"width: 110px\"\n        class=\"filter-item\"\n      >\n        <el-option\n          v-for=\"item in statusOptions\"\n          :key=\"item\"\n          :label=\"item\"\n          :value=\"item\"\n        />\n      </el-select>\n      <el-cascader\n        filterable\n        placeholder=\"所属区域\"\n        clearable\n        separator=\"/\"\n        :show-all-levels=\"true\"\n        style=\"width: 200px\"\n        class=\"filter-item\"\n        :options=\"areaOptions\"\n        v-model=\"listQuery.Region\"\n      >\n      </el-cascader>\n      <el-button\n        v-waves\n        class=\"filter-item\"\n        type=\"primary\"\n        icon=\"el-icon-search\"\n        @click=\"handleFilter\"\n      >\n        查询\n      </el-button>\n      <el-button\n        v-permission=\"['ProjectAdd']\"\n        class=\"filter-item\"\n        style=\"margin-left: 10px\"\n        type=\"primary\"\n        icon=\"el-icon-plus\"\n        @click=\"handleCreate\"\n      >\n        新增\n      </el-button>\n      <el-button\n        v-permission=\"['ProjectApply']\"\n        class=\"filter-item\"\n        style=\"margin-left: 10px\"\n        type=\"primary\"\n        icon=\"el-icon-plus\"\n        @click=\"handleApply\"\n      >\n        申请\n      </el-button>\n      <el-button\n        v-waves\n        :loading=\"downloadLoading\"\n        class=\"filter-item\"\n        type=\"primary\"\n        icon=\"el-icon-download\"\n        @click=\"handleDownload\"\n      >\n        导出\n      </el-button>\n    </div>\n\n    <el-table\n      :key=\"tableKey\"\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%\"\n      height=\"72vh\"\n      :header-cell-style=\"{ 'background-color': 'rgba(245,245,245)' }\"\n      @sort-change=\"sortChange\"\n    >\n      <el-table-column label=\"序号\" type=\"index\" align=\"center\" width=\"80\">\n      </el-table-column>\n      <el-table-column label=\"项目名称\" align=\"center\">\n        <template slot-scope=\"{ row }\">\n          <span class=\"link-type\" @click=\"handleDetail(row)\">{{\n            row.ProjName\n          }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"项目类别\" width=\"150\" align=\"center\">\n        <template slot-scope=\"{ row }\">\n          <span>{{ getProjectTypeName(row.ProjectTypeId) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"项目阶段\" width=\"80\" align=\"center\">\n        <template slot-scope=\"{ row }\">\n          <span>{{ row.PhaseName }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"预计完成时间\" width=\"110\" align=\"center\">\n        <template slot-scope=\"{ row }\">\n          <span>{{ row.CompletionDate | parseTime(\"{y}-{m}-{d}\") }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"项目状态\" width=\"90\" align=\"center\">\n        <template slot-scope=\"{ row }\">\n          <el-tag :type=\"row.StatusName | statusFilter\">\n            {{ row.StatusName }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"项目负责人\" width=\"100\" align=\"center\">\n        <template slot-scope=\"{ row }\">\n          <span>{{ row.Contact }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"所属区域\" class-name=\"status-col\">\n        <template slot-scope=\"{ row }\">\n          {{ row.ProProvince + \"/\" + row.ProCity + \"/\" + row.ProjArea }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"地点\" align=\"center\">\n        <template slot-scope=\"{ row }\">\n          <span>{{ row.ProjAddr }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"监理人数\" width=\"90\" align=\"center\">\n        <template slot-scope=\"{ row }\">\n          <span class=\"link-type\" @click=\"handleFetchPersonnel(row.Id)\">{{\n            row.SupervisorCount\n          }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        v-if=\"checkPermission('ProjectCompany')\"\n        label=\"监理单位\"\n        align=\"center\"\n      >\n        <template slot-scope=\"{ row }\">\n          <span class=\"link-type\" @click=\"handleLookCompany(row)\">{{\n            row.CompanyName\n          }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"操作\"\n        :width=\"180\"\n        align=\"center\"\n        fixed=\"right\"\n        class-name=\"small-padding fixed-width\"\n      >\n        <template slot-scope=\"{ row, $index }\">\n          <el-row\n            :gutter=\"0\"\n            style=\"width: 100%; padding: 5px; padding-bottom: 0px\"\n          >\n            <el-col v-if=\"false\" :span=\"12\" style=\"margin-bottom: 5px\">\n              <el-button type=\"primary\" size=\"mini\" @click=\"handleDetail(row)\">\n                查看\n              </el-button>\n            </el-col>\n            <el-col\n              v-permission=\"['ProjectEdit']\"\n              :span=\"12\"\n              style=\"margin-bottom: 5px\"\n            >\n              <el-button type=\"primary\" size=\"mini\" @click=\"handleUpdate(row)\">\n                编辑\n              </el-button>\n            </el-col>\n            <el-col\n              v-permission=\"['ProjectStaffing']\"\n              :span=\"12\"\n              style=\"margin-bottom: 5px\"\n            >\n              <el-button\n                size=\"mini\"\n                type=\"primary\"\n                @click=\"handleStaffing(row, $index)\"\n              >\n                人员配置\n              </el-button>\n            </el-col>\n            <el-col\n              v-if=\"row.CompanyName\"\n              v-permission=\"['ProjectUnbundling']\"\n              :span=\"12\"\n              style=\"margin-bottom: 5px\"\n            >\n              <el-button\n                size=\"mini\"\n                type=\"warning\"\n                @click=\"handleModifyStatus(row, $index)\"\n              >\n                解绑\n              </el-button>\n            </el-col>\n\n            <el-col\n              v-permission=\"['ProjectContractUpload']\"\n              :span=\"12\"\n              style=\"margin-bottom: 5px\"\n            >\n              <el-button\n                size=\"mini\"\n                type=\"primary\"\n                @click=\"handleContract(row)\"\n              >\n                合同上传\n              </el-button>\n            </el-col>\n\n            <el-col\n              v-if=\"!row.SupervisorCount || row.SupervisorCount == 0\"\n              v-permission=\"['ProjectDelete']\"\n              :span=\"12\"\n              style=\"margin-bottom: 5px\"\n            >\n              <el-button\n                size=\"mini\"\n                type=\"danger\"\n                @click=\"handleDelete(row, $index)\"\n              >\n                删除\n              </el-button>\n            </el-col>\n          </el-row>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n      v-show=\"total > 0\"\n      :total=\"total\"\n      :page.sync=\"listQuery.PageIndex\"\n      :limit.sync=\"listQuery.PageSize\"\n      @pagination=\"getList\"\n    />\n\n    <el-dialog\n      width=\"60%\"\n      :title=\"textMap[dialogStatus]\"\n      :visible.sync=\"dialogFormVisible\"\n      @closed=\"dialogFormClosed\"\n    >\n      <el-form\n        v-if=\"dialogStatus === 'apply' || dialogStatus === 'contract'\"\n        ref=\"baseDataForm\"\n        :rules=\"baseDataRules\"\n        :model=\"temp\"\n        label-position=\"left\"\n        label-width=\"110px\"\n        style=\"height: 40vh\"\n      >\n        <el-row :gutter=\"0\">\n          <el-col :span=\"14\" :offset=\"3\">\n            <el-form-item label=\"项目名称\" prop=\"ProjName\">\n              <el-autocomplete\n                v-if=\"dialogStatus === 'apply'\"\n                style=\"width: 100%\"\n                v-model=\"temp.ProjName\"\n                :fetch-suggestions=\"querySearch\"\n                value-key=\"ProjName\"\n                placeholder=\"请输入内容\"\n                :trigger-on-focus=\"false\"\n                @select=\"handleSelect\"\n                clearable\n                suffix-icon=\"el-icon-search\"\n              />\n              <el-input\n                v-else\n                v-model=\"temp.ProjName\"\n                :readonly=\"dialogStatus === 'contract'\"\n              />\n            </el-form-item>\n            <el-form-item label=\"项目合同\" prop=\"Contract\">\n              <el-upload\n                style=\"width: 100%\"\n                :disabled=\"dialogStatus === 'detail'\"\n                :file-list=\"temp.fileList\"\n                :action=\"uploadUrl\"\n                ref=\"contractUploader\"\n                name=\"file\"\n                :limit=\"1\"\n                :headers=\"headers\"\n                :list-type=\"text\"\n                :show-file-list=\"true\"\n                :auto-upload=\"true\"\n                :before-upload=\"beforeContractUpload\"\n                :on-change=\"handleContractChange\"\n                :on-success=\"handleContractSuccess\"\n                :on-error=\"handleContractError\"\n                :before-remove=\"beforeContractRemove\"\n                :on-remove=\"handleContractRemove\"\n                :on-exceed=\"handleContractExceed\"\n              >\n                <i slot=\"default\" class=\"\"\n                  ><el-button size=\"small\" type=\"primary\"\n                    >点击上传</el-button\n                  ></i\n                >\n                <div slot=\"file\" slot-scope=\"{ file }\">\n                  {{ file.name }}\n                </div>\n                <!-- <el-input\n                  v-if=\"temp.ContractFileName\"\n                  :value=\"temp.ContractFileName\"\n                  readonly=\"\"\n                  style=\"width: 100%; background-color: red\"\n                >\n                </el-input> -->\n                <!-- <p v-if=\"temp.ContractFileName\">{{ temp.ContractFileName }}</p> -->\n                <!-- <i\n                  v-else-if=\"dialogStatus === 'detail'\"\n                  class=\"avatar-uploader-icon\"\n                ></i> -->\n                <!-- <el-button v-else size=\"small\" type=\"primary\"\n                  >点击上传</el-button\n                > -->\n                <div slot=\"tip\" class=\"el-upload__tip\">\n                  只能上传.pdf文件，且不超过5M\n                </div>\n              </el-upload>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n\n      <staffing\n        v-else-if=\"dialogStatus == 'staffing'\"\n        :project-id=\"temp.Id\"\n        :project-name=\"temp.ProjName\"\n        :project-status=\"temp.StatusName\"\n        :project-phase-name=\"temp.PhaseName\"\n        :project-cost=\"temp.ProjCost\"\n        :project-building-area=\"temp.BuildingArea\"\n      ></staffing>\n\n      <el-form\n        v-else\n        ref=\"detailDataForm\"\n        :rules=\"dialogStatus !== 'detail' ? detailDataRules : null\"\n        :model=\"temp\"\n        label-position=\"right\"\n        label-width=\"120px\"\n      >\n        <el-row :gutter=\"0\" style=\"width: 100%\">\n          <el-col :span=\"10\" :offset=\"1\">\n            <el-form-item label=\"项目名称\" prop=\"ProjName\">\n              <el-input\n                v-model=\"temp.ProjName\"\n                :readonly=\"dialogStatus === 'detail'\"\n              />\n            </el-form-item>\n            <el-form-item label=\"项目编号\" prop=\"ProjNo\">\n              <el-input\n                v-model=\"temp.ProjNo\"\n                :readonly=\"dialogStatus === 'detail'\"\n              />\n            </el-form-item>\n            <el-form-item label=\"工程类别\" prop=\"ProjectTypeId\">\n              <el-select\n                v-if=\"dialogStatus !== 'detail'\"\n                v-model=\"temp.ProjectTypeId\"\n                placeholder=\"请选择\"\n                clearable\n                style=\"width: 100%\"\n                class=\"filter-item\"\n              >\n                <el-option\n                  v-for=\"item in projectTypes\"\n                  :key=\"item.Id\"\n                  :label=\"item.Name\"\n                  :value=\"item.Id\"\n                />\n              </el-select>\n              <el-input v-else v-model=\"temp.ProjectTypeId\" readonly />\n            </el-form-item>\n            <el-form-item label=\"建筑面积(m³)\" prop=\"BuildingArea\">\n              <el-input\n                v-model=\"temp.BuildingArea\"\n                type=\"number\"\n                :readonly=\"dialogStatus === 'detail'\"\n              />\n            </el-form-item>\n            <el-form-item label=\"工程造价(万元)\" prop=\"ProjCost\">\n              <el-input\n                v-model=\"temp.ProjCost\"\n                type=\"number\"\n                :readonly=\"dialogStatus === 'detail'\"\n              />\n            </el-form-item>\n            <el-form-item label=\"预计开始时间\" prop=\"StartDate\">\n              <el-date-picker\n                style=\"width: 100%\"\n                v-model=\"temp.StartDate\"\n                type=\"date\"\n                placeholder=\"选择日期\"\n                format=\"yyyy-MM-dd\"\n                value-format=\"yyyy-MM-dd\"\n                :readonly=\"dialogStatus === 'detail'\"\n              >\n                >\n              </el-date-picker>\n            </el-form-item>\n            <el-form-item label=\"预计完成时间\" prop=\"CompletionDate\">\n              <el-date-picker\n                style=\"width: 100%\"\n                v-model=\"temp.CompletionDate\"\n                type=\"date\"\n                placeholder=\"选择日期\"\n                format=\"yyyy-MM-dd\"\n                value-format=\"yyyy-MM-dd\"\n                :readonly=\"dialogStatus === 'detail'\"\n              >\n                >\n              </el-date-picker>\n            </el-form-item>\n            <el-form-item label=\"工程阶段\" prop=\"Phase\">\n              <el-form-item\n                v-for=\"item in temp.Phase\"\n                label-width=\"50px\"\n                :label=\"getPhasesName(item.PhaseKey)\"\n                :key=\"item.DictKey\"\n                :required=\"dialogStatus !== 'detail'\"\n              >\n                <el-date-picker\n                  style=\"width: 100%\"\n                  v-model=\"item.DateRange\"\n                  type=\"daterange\"\n                  placeholder=\"选择日期\"\n                  :readonly=\"dialogStatus === 'detail'\"\n                  format=\"yyyy-MM-dd\"\n                  value-format=\"yyyy-MM-dd\"\n                  @change=\"dateRangeChange(item)\"\n                >\n                </el-date-picker>\n              </el-form-item>\n            </el-form-item>\n            <el-form-item\n              v-if=\"\n                dialogStatus === 'detail' && checkPermission('ProjectCompany')\n              \"\n              label=\"当前监理单位\"\n              prop=\"CompanyName\"\n            >\n              <el-input\n                v-model=\"temp.CompanyName\"\n                :readonly=\"dialogStatus === 'detail'\"\n              />\n            </el-form-item>\n            <el-form-item\n              v-if=\"dialogStatus === 'detail'\"\n              label=\"监理合同\"\n              prop=\"Contract\"\n            >\n              <!-- <span\n                v-if=\"temp.ContractFileName\"\n                class=\"link-type\"\n                @click=\"downloadFile\"\n                >{{ temp.ContractFileName }}</span\n              > -->\n              <el-link\n                v-if=\"temp.ContractFileName\"\n                type=\"primary\"\n                :href=\"temp.ContractUrl\"\n                >{{ temp.ContractFileName }}</el-link\n              >\n              <el-link v-else type=\"info\" disabled>未上传监理合同</el-link>\n            </el-form-item>\n          </el-col>\n\n          <el-col :span=\"10\" :offset=\"1\" class=\"upload-container\">\n            <el-form-item label=\"负责人\" prop=\"Contact\">\n              <el-input\n                v-model=\"temp.Contact\"\n                :readonly=\"dialogStatus === 'detail'\"\n              />\n            </el-form-item>\n            <el-form-item label=\"联系方式\" prop=\"Tel\">\n              <el-input\n                v-model=\"temp.Tel\"\n                :readonly=\"dialogStatus === 'detail'\"\n                maxlength=\"11\"\n                show-word-limit\n              />\n            </el-form-item>\n            <el-form-item label=\"所属区域\" prop=\"Region\">\n              <el-cascader\n                v-if=\"dialogStatus !== 'detail'\"\n                filterable\n                placeholder=\"所属区域\"\n                clearable\n                separator=\"/\"\n                :show-all-levels=\"true\"\n                style=\"width: 100%\"\n                class=\"filter-item\"\n                :options=\"areaOptions\"\n                v-model=\"temp.Region\"\n              >\n              </el-cascader>\n              <el-input\n                v-else\n                :value=\"\n                  temp.ProProvince + '/' + temp.ProCity + '/' + temp.ProjArea\n                \"\n                readonly\n              />\n            </el-form-item>\n            <el-form-item label=\"详细地址\" prop=\"ProjAddr\">\n              <el-input\n                v-model=\"temp.ProjAddr\"\n                :readonly=\"dialogStatus === 'detail'\"\n              />\n            </el-form-item>\n            <el-form-item label=\"定位\" prop=\"LatLon\">\n              <div id=\"mapContainer\" class=\"map\"></div>\n              <el-input\n                v-model=\"temp.LatLon\"\n                placeholder=\"经纬度\"\n                @change=\"handleLatLon\"\n                :readonly=\"dialogStatus === 'detail'\"\n              />\n            </el-form-item>\n            <el-form-item\n              v-if=\"dialogStatus === 'detail'\"\n              label=\"项目状态\"\n              prop=\"StatusName\"\n            >\n              <el-input\n                v-model=\"temp.StatusName\"\n                :readonly=\"dialogStatus === 'detail'\"\n              />\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n\n      <div\n        v-if=\"dialogStatus !== 'staffing' && dialogStatus !== 'detail'\"\n        slot=\"footer\"\n        class=\"dialog-footer\"\n      >\n        <el-button\n          v-if=\"dialogStatus !== 'detail'\"\n          @click=\"dialogFormVisible = false\"\n        >\n          取消\n        </el-button>\n        <el-button\n          v-if=\"dialogStatus !== 'detail'\"\n          type=\"primary\"\n          @click=\"\n            dialogStatus === 'create'\n              ? createData()\n              : dialogStatus === 'update'\n              ? updateData()\n              : applyData()\n          \"\n        >\n          {{ dialogStatus === \"detail\" ? \"确定\" : \"提交\" }}\n        </el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog\n      :visible.sync=\"dialogPersonnelVisible\"\n      title=\"监理人员\"\n      width=\"70%\"\n    >\n      <el-table\n        :data=\"personnelData\"\n        border\n        fit\n        highlight-current-row\n        height=\"52vh\"\n        style=\"width: 100%\"\n      >\n        <el-table-column label=\"序号\" type=\"index\" align=\"center\" width=\"80\" />\n        <el-table-column prop=\"Name\" label=\"姓名\" align=\"center\" />\n        <el-table-column prop=\"PostCode\" label=\"岗位\" align=\"center\">\n          <template slot-scope=\"{ row }\">\n            <span>{{ getPostName(row.PostCode) }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          v-if=\"false\"\n          prop=\"CardId\"\n          label=\"身份证\"\n          align=\"center\"\n        />\n        <el-table-column prop=\"Tel\" label=\"联系方式\" align=\"center\" />\n        <el-table-column\n          v-if=\"false\"\n          prop=\"ProjectName\"\n          label=\"所属项目\"\n          align=\"center\"\n        >\n        </el-table-column>\n        <el-table-column\n          v-if=\"false\"\n          prop=\"CertificateStatusName\"\n          label=\"证书状态\"\n          align=\"center\"\n        >\n          <template slot-scope=\"{ row }\">\n            <el-tag :type=\"row.CertificateStatusName | certificateStatusFilter\">\n              {{ row.CertificateStatusName }}\n            </el-tag>\n          </template>\n        </el-table-column>\n      </el-table>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"dialogPersonnelVisible = false\"\n          >确定</el-button\n        >\n      </span>\n    </el-dialog>\n    <el-dialog :visible.sync=\"dialogVisible\" title=\"\">\n      <img :src=\"dialogImageUrl\" alt=\"\" />\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { baseURL } from \"@/utils/request\";\nimport { getToken, getCompanyId } from \"@/utils/auth\";\nimport { validPhoneNumber } from \"@/utils/validate\";\nimport { regionData, CodeToText, TextToCode } from \"element-china-area-data\";\nimport { mapGetters } from \"vuex\";\nimport {\n  fetchPageList,\n  fetchProject,\n  saveProject,\n  unbundlingProject,\n  deleteProject,\n  fetchListNoBundling,\n  applyProject,\n} from \"@/api/project\";\nimport { uploadFile, saveFile, getFileUrl } from \"@/api/file\";\nimport { fetchList as fetchPersonnelList } from \"@/api/projectSupervisor\";\nimport waves from \"@/directive/waves\"; // waves directive\nimport permission from \"@/directive/permission/index.js\"; // 权限判断指令\nimport checkPermission from \"@/utils/permission\"; // 权限判断函数\nimport { parseTime } from \"@/utils\";\nimport Pagination from \"@/components/Pagination\"; // secondary package based on el-pagination\nimport Staffing from \"./components/staffing\";\n\nconst calendarTypeOptions = [\n  { key: \"CN\", display_name: \"China\" },\n  { key: \"US\", display_name: \"USA\" },\n  { key: \"JP\", display_name: \"Japan\" },\n  { key: \"EU\", display_name: \"Eurozone\" },\n];\n\n// arr to obj, such as { CN : \"China\", US : \"USA\" }\nconst calendarTypeKeyValue = calendarTypeOptions.reduce((acc, cur) => {\n  acc[cur.key] = cur.display_name;\n  return acc;\n}, {});\n\nexport default {\n  name: \"Project\",\n  components: { Pagination, Staffing },\n  directives: { waves, permission },\n  filters: {\n    statusFilter(Status) {\n      const statusMap = {\n        未开始: \"info\",\n        进行中: \"success\",\n        已结束: \"\",\n      };\n      return statusMap[Status];\n    },\n    certificateStatusFilter(Status) {\n      const statusMap = {\n        正常: \"success\",\n        已过期: \"danger\",\n      };\n      return statusMap[Status];\n    },\n  },\n  watch: {\n    dialogStatus(newValue, oldValue) {},\n    listQuery: {\n      deep: true,\n      handler(newValue, oldValue) {\n        // alert(newValue.Region.join(\":\"));\n      },\n    },\n    temp: {\n      deep: true,\n      handler(newValue, oldValue) {\n        if (newValue != \"staffing\") {\n          this.$nextTick(() => {\n            this.mapInit();\n          });\n        }\n      },\n    },\n  },\n  computed: {\n    ...mapGetters([\"dicts\", \"projectTypes\"]),\n  },\n  data() {\n    return {\n      map: null,\n      headers: {\n        // \"Content-Type\": \"multipart/form-data\",\n        Authorization: \"Bearer \" + getToken(),\n      },\n      uploadUrl: \"\",\n      marker: null,\n      hideUpload: false,\n      tableKey: 0,\n      dialogImageUrl: \"\",\n      dialogVisible: false,\n      list: null,\n      total: 0,\n      listLoading: true,\n      Phases: [],\n      Posts: [],\n      listQuery: {\n        ProjName: undefined,\n        PageIndex: 1,\n        PageSize: 20,\n        Region: [], //[\"320000\", \"320500\", \"320506\"]\n        ProProvince: \"\",\n        ProCity: \"\",\n        ProjArea: \"\",\n        StatusName: undefined,\n        PhaseKey: undefined,\n        ProjectTypeId: undefined,\n      },\n      areaOptions: regionData,\n      selectedAreaOptions: [],\n      statusOptions: [\"未开始\", \"进行中\", \"已结束\"],\n      calendarTypeOptions,\n      sortOptions: [\n        { label: \"序号 升序\", key: \"+Id\" },\n        { label: \"序号 降序\", key: \"-Id\" },\n      ],\n      temp: {\n        Id: 0,\n        ProjName: \"\",\n        ProjNo: \"\",\n        ProjectTypeId: \"\",\n        StatusName: \"\",\n        Region: [],\n        ProProvince: \"\",\n        ProCity: \"\",\n        ProjArea: \"\",\n        ProjAddr: \"\",\n        BuildingArea: \"\",\n        ProjLng: 116.49846580230428,\n        ProjLat: 39.86494397275535,\n        LatLon: \"\",\n        fileList: [],\n        ProjCost: \"\",\n        StartDate: \"\",\n        CompletionDate: \"\",\n        SuperviseComId: 0,\n        CompanyName: \"\",\n        Contact: \"\",\n        Tel: \"\",\n        Status: 0,\n        StatusName: \"\",\n        Remark: \"\",\n        SupervisorCount: \"\",\n        PhaseName: \"\",\n        Phase: [\n          {\n            ProjectId: 0,\n            PhaseKey: 0,\n            StartDate: \"2021-04-23T08:02:56.917Z\",\n            EndDate: \"2021-04-23T08:02:56.917Z\",\n            DateRange: \"2021-04-23,2021-04-23\",\n            BaseIsDelete: 0,\n            BaseVersion: 0,\n            BaseModifyTime: \"2021-04-23T08:02:56.917Z\",\n            BaseModifierId: 0,\n            BaseCreateTime: \"2021-04-23T08:02:56.917Z\",\n            BaseCreatorId: 0,\n            Id: 0,\n            Token: \"\",\n          },\n          {\n            ProjectId: 0,\n            PhaseKey: 0,\n            StartDate: \"2021-04-23T08:02:56.917Z\",\n            EndDate: \"2021-04-23T08:02:56.917Z\",\n            DateRange: \"\",\n            BaseIsDelete: 0,\n            BaseVersion: 0,\n            BaseModifyTime: \"2021-04-23T08:02:56.917Z\",\n            BaseModifierId: 0,\n            BaseCreateTime: \"2021-04-23T08:02:56.917Z\",\n            BaseCreatorId: 0,\n            Id: 0,\n            Token: \"\",\n          },\n          {\n            ProjectId: 0,\n            PhaseKey: 0,\n            StartDate: \"2021-04-23T08:02:56.917Z\",\n            EndDate: \"2021-04-23T08:02:56.917Z\",\n            DateRange: \"\",\n            BaseIsDelete: 0,\n            BaseVersion: 0,\n            BaseModifyTime: \"2021-04-23T08:02:56.917Z\",\n            BaseModifierId: 0,\n            BaseCreateTime: \"2021-04-23T08:02:56.917Z\",\n            BaseCreatorId: 0,\n            Id: 0,\n            Token: \"\",\n          },\n        ],\n        Contract: \"\",\n        ContractUrl: \"\",\n        ContractFileName: \"\",\n      },\n      dialogFormVisible: false,\n      dialogStatus: \"\",\n      textMap: {\n        update: \"角色编辑\",\n        create: \"角色新增\",\n        detail: \"角色详情\",\n        staffing: \"人员配置\",\n        apply: \"项目申请\",\n        contract: \"合同上传\",\n      },\n      dialogPersonnelVisible: false,\n      personnelData: [],\n      baseDataRules: {\n        ProjName: [\n          {\n            required: true,\n            message: \"项目名称为必填项\",\n            trigger: \"blur\",\n          },\n        ],\n        // Contract: [\n        //   {\n        //     required: false,\n        //     message: \"请上传合同\",\n        //     trigger: \"change\",\n        //   },\n        // ],\n      },\n      detailDataRules: {\n        ProjName: [\n          {\n            required: true,\n            message: \"项目名称为必填项\",\n            trigger: \"blur\",\n          },\n        ],\n        ProjNo: {\n          required: true,\n          message: \"项目编号为必填项\",\n          trigger: \"blur\",\n        },\n        Phase: [\n          {\n            required: true,\n            message: \"请填写工程阶段信息\",\n            trigger: \"change\",\n            validator: (rule, value, callback) => {\n              let error = value.find((item) => {\n                return !item.DateRange;\n              });\n              if (error) {\n                callback(new Error(`请输选择阶段时间`));\n              } else {\n                callback();\n              }\n            },\n          },\n        ],\n        PhaseName: [\n          {\n            required: true,\n            message: \"请填写工程阶段信息\",\n            trigger: \"change\",\n          },\n        ],\n        StartDate: [\n          {\n            required: true,\n            message: \"请选择预计开始日期\",\n            trigger: \"change\",\n          },\n        ],\n        CompletionDate: [\n          {\n            required: true,\n            message: \"请选择预计完成日期\",\n            trigger: \"change\",\n          },\n        ],\n        Region: [\n          {\n            required: true,\n            message: \"请选择项目所在区域\",\n            trigger: \"change\",\n          },\n        ],\n        BuildingArea: [\n          {\n            required: true,\n            message: \"请输入建筑面积\",\n            trigger: \"blur\",\n          },\n        ],\n        ProjCost: [\n          {\n            required: true,\n            message: \"请输入工程造价\",\n            trigger: \"blur\",\n          },\n        ],\n        ProjAddr: [\n          {\n            required: true,\n            message: \"请输入详细地址\",\n            trigger: \"blur\",\n          },\n        ],\n        Contact: [\n          {\n            required: true,\n            message: \"请输入项目负责人\",\n            trigger: \"blur\",\n          },\n        ],\n        Tel: [\n          {\n            required: true,\n            message: \"手机号格式不正确\",\n            trigger: \"blur\",\n            validator: (rule, value, callback) => {\n              if (value && !validPhoneNumber(value)) {\n                callback(new Error(\"请输入正确的手机号\"));\n              } else {\n                callback();\n              }\n            },\n          },\n        ],\n        LatLon: [\n          {\n            required: true,\n            message: \"请选择项目地理位置\",\n            trigger: \"blur\",\n          },\n        ],\n        ProjectTypeId: [\n          {\n            required: true,\n            message: \"工程类别为必选项\",\n            trigger: \"change\",\n          },\n        ],\n      },\n      downloadLoading: false,\n    };\n  },\n  created() {\n    this.uploadUrl = baseURL + \"/File/UploadFile\";\n    let obj = this.dicts.find((dict) => dict.DictType == \"ProjectPhase\");\n    if (obj) {\n      this.Phases = obj.Detail;\n    }\n\n    let posts = this.dicts.find((dict) => dict.DictType == \"Post\");\n    if (posts) {\n      this.Posts = posts.Detail;\n    }\n\n    this.getList();\n  },\n  mounted() {},\n  methods: {\n    checkPermission,\n    getPostName(postCode) {\n      let post = this.Posts.find((post) => post.DictKey == postCode);\n      return post ? post.DictValue : \"\";\n    },\n    dateRangeChange(Phase) {\n      if (Phase.DateRange && Phase.DateRange.length > 0) {\n        Phase.StartDate = Phase.DateRange[0];\n        Phase.EndDate = Phase.DateRange[1];\n      }\n      console.log(\"Phase\", Phase);\n    },\n    getProjectTypeName(typeId) {\n      let projectType = this.projectTypes.find((_) => {\n        return _.Id == typeId;\n      });\n      return projectType.Name;\n    },\n    mapInit() {\n      //百度地图API功能\n      this.map = new BMap.Map(\"mapContainer\");\n      let map = this.map;\n      console.log(\"ProjLng\", this.temp.ProjLng);\n      console.log(\"ProjLat\", this.temp.ProjLat);\n      let point = new BMap.Point(this.temp.ProjLng, this.temp.ProjLat);\n      map.centerAndZoom(point, 6);\n      this.drawMarker(point);\n\n      // 地图皮肤\n      // map.setMapStyleV2({\n      //     styleId: \"ddfec3bbaf89664b74e29f88dbd9b8b6\",\n      // });\n\n      map.enableScrollWheelZoom(true); //开启鼠标滚轮缩放\n\n      map.addEventListener(\"click\", (e) => {\n        if (this.dialogStatus === \"detail\") {\n          return;\n        }\n        this.temp.ProjLng = e.point.lng;\n        this.temp.ProjLat = e.point.lat;\n        this.temp.LatLon = e.point.lat + \",\" + e.point.lng;\n        //画标注\n        let point = new BMap.Point(e.point.lng, e.point.lat);\n        this.drawMarker(point);\n      });\n    },\n    handleLatLon(value) {\n      let temp = this.temp;\n      temp.ProjLng =\n        value && value.split(\",\").length > 0 ? value.split(\",\")[1] : 0;\n      temp.ProjLat =\n        value && value.split(\",\").length > 0 ? value.split(\",\")[0] : 0;\n      this.mapInit();\n    },\n    drawMarker(point) {\n      this.map.removeOverlay(this.marker);\n      // 创建图标\n      // var myIcon = new BMap.Icon(item.imgUrl, new BMap.Size(29, 48));\n\n      // 创建标注\n      this.marker = new BMap.Marker(point, {\n        // icon: myIcon,\n        // title: item.id,\n      });\n      // marker.setIcon(myIcon);\n\n      // 将标注添加到地图中\n      this.map.addOverlay(this.marker);\n    },\n    getPhasesName(phaseKey) {\n      let phases = this.Phases.find((_) => _.DictKey == phaseKey);\n      if (phases) {\n        return phases.DictValue;\n      }\n      return \"\";\n    },\n    getList() {\n      this.listLoading = true;\n      let { Region, ...listQuery } = this.listQuery;\n      if (Region && Region.length > 0) {\n        listQuery.ProProvince = CodeToText[Region[0]];\n        listQuery.ProCity = CodeToText[Region[1]];\n        listQuery.ProjArea = CodeToText[Region[2]];\n      }\n      fetchPageList(listQuery)\n        .then((response) => {\n          let datas = response.Data;\n          this.list = datas.map((data) => {\n            data.LatLon = data.ProjLat + \",\" + data.ProjLng;\n            data.Region = [\n              TextToCode[data.ProProvince] && TextToCode[data.ProProvince].code\n                ? TextToCode[data.ProProvince].code\n                : 0,\n              TextToCode[data.ProProvince] &&\n              TextToCode[data.ProProvince].code &&\n              TextToCode[data.ProProvince][data.ProCity] &&\n              TextToCode[data.ProProvince][data.ProCity].code\n                ? TextToCode[data.ProProvince][data.ProCity].code\n                : 0,\n              TextToCode[data.ProProvince] &&\n              TextToCode[data.ProProvince].code &&\n              TextToCode[data.ProProvince][data.ProCity] &&\n              TextToCode[data.ProProvince][data.ProCity].code &&\n              TextToCode[data.ProProvince][data.ProCity][data.ProjArea] &&\n              TextToCode[data.ProProvince][data.ProCity][data.ProjArea].code\n                ? TextToCode[data.ProProvince][data.ProCity][data.ProjArea].code\n                : 0,\n            ];\n\n            return data;\n          });\n          this.total = response.Total;\n\n          // Just to simulate the time of the request\n          this.listLoading = false;\n        })\n        .catch((error) => {\n          this.listLoading = false;\n        });\n    },\n    handleFilter() {\n      this.listQuery.PageIndex = 1;\n      this.getList();\n    },\n    handleModifyStatus(row, index) {\n      this.$prompt(\"确定要解绑监理单位吗？\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        // inputPattern: /[\\w!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/,\n        inputValidator: (value) => {\n          return value ? true : \"解绑原因必填。\";\n        },\n        inputErrorMessage: \"解绑原因必填。\",\n        inputPlaceholder: \"请输入解绑原因\",\n      })\n        .then(({ value }) => {\n          let data = { Id: row.Id, UnbundlingReason: value };\n          unbundlingProject(data)\n            .then(() => {\n              this.getList();\n              this.$notify({\n                title: \"成功提示\",\n                message: \"解绑成功\",\n                type: \"success\",\n                duration: 2000,\n              });\n            })\n            .catch((error) => {});\n        })\n        .catch((_) => {});\n    },\n    sortChange(data) {\n      const { prop, order } = data;\n      if (prop === \"Id\") {\n        this.sortByID(order);\n      }\n    },\n    sortByID(order) {\n      if (order === \"ascending\") {\n        this.listQuery.sort = \"+Id\";\n      } else {\n        this.listQuery.sort = \"-Id\";\n      }\n      this.handleFilter();\n    },\n    resetTemp() {\n      this.temp = {\n        Id: 0,\n        ProjName: \"\",\n        ProjNo: \"\",\n        ProjectTypeId: \"\",\n        StatusName: \"\",\n        Region: [],\n        ProProvince: \"\",\n        ProCity: \"\",\n        ProjArea: \"\",\n        ProjAddr: \"\",\n        BuildingArea: \"\",\n        ProjLng: 116.49846580230428,\n        ProjLat: 39.86494397275535,\n        LatLon: \"\",\n        fileList: [],\n        ProjCost: \"\",\n        StartDate: \"\",\n        CompletionDate: \"\",\n        SuperviseComId: 0,\n        CompanyName: \"\",\n        Contact: \"\",\n        Tel: \"\",\n        Status: 0,\n        StatusName: \"\",\n        Remark: \"\",\n        SupervisorCount: \"\",\n        PhaseName: \"\",\n        Phase: [\n          {\n            ProjectId: 0,\n            PhaseKey: 1,\n            StartDate: \"2021-04-23T08:02:56.917Z\",\n            EndDate: \"2021-04-23T08:02:56.917Z\",\n            DateRange: \"2021-04-23,2021-04-23\",\n            BaseIsDelete: 0,\n            BaseVersion: 0,\n            BaseModifyTime: \"2021-04-23T08:02:56.917Z\",\n            BaseModifierId: 0,\n            BaseCreateTime: \"2021-04-23T08:02:56.917Z\",\n            BaseCreatorId: 0,\n            Id: 0,\n            Token: \"\",\n          },\n          {\n            ProjectId: 0,\n            PhaseKey: 2,\n            StartDate: \"2021-04-23T08:02:56.917Z\",\n            EndDate: \"2021-04-23T08:02:56.917Z\",\n            DateRange: \"\",\n            BaseIsDelete: 0,\n            BaseVersion: 0,\n            BaseModifyTime: \"2021-04-23T08:02:56.917Z\",\n            BaseModifierId: 0,\n            BaseCreateTime: \"2021-04-23T08:02:56.917Z\",\n            BaseCreatorId: 0,\n            Id: 0,\n            Token: \"\",\n          },\n          {\n            ProjectId: 0,\n            PhaseKey: 3,\n            StartDate: \"2021-04-23T08:02:56.917Z\",\n            EndDate: \"2021-04-23T08:02:56.917Z\",\n            DateRange: \"\",\n            BaseIsDelete: 0,\n            BaseVersion: 0,\n            BaseModifyTime: \"2021-04-23T08:02:56.917Z\",\n            BaseModifierId: 0,\n            BaseCreateTime: \"2021-04-23T08:02:56.917Z\",\n            BaseCreatorId: 0,\n            Id: 0,\n            Token: \"\",\n          },\n        ],\n        Contract: \"\",\n        ContractUrl: \"\",\n        ContractFileName: \"\",\n      };\n    },\n    handleApply() {\n      this.resetTemp();\n      this.dialogStatus = \"apply\";\n      this.dialogFormVisible = true;\n      this.$nextTick(() => {\n        this.$refs[\"baseDataForm\"].clearValidate();\n      });\n    },\n    handleCreate() {\n      this.resetTemp();\n      this.dialogStatus = \"create\";\n      this.dialogFormVisible = true;\n      this.$nextTick(() => {\n        this.$refs[\"detailDataForm\"].clearValidate();\n      });\n    },\n    createData() {\n      this.$refs[\"detailDataForm\"].validate((valid) => {\n        if (valid) {\n          let { LatLon, Region, ...temp } = this.temp;\n          if (Region && Region.length > 0) {\n            temp.ProProvince = CodeToText[Region[0]];\n            temp.ProCity = CodeToText[Region[1]];\n            temp.ProjArea = CodeToText[Region[2]];\n          }\n          let { Phase } = temp;\n          Phase = Phase.map((item) => {\n            let { DateRange, ...copyItem } = item;\n            return copyItem;\n          });\n          temp.Phase = Phase;\n          saveProject(temp)\n            .then(() => {\n              this.getList();\n              this.dialogFormVisible = false;\n              this.$notify({\n                title: \"成功\",\n                message: \"新增成功！\",\n                type: \"success\",\n                duration: 2000,\n              });\n            })\n            .catch((error) => {\n              this.$notify({\n                title: \"失败\",\n                message: \"操作失败\",\n                type: \"error\",\n                duration: 2000,\n              });\n            });\n        }\n      });\n    },\n    saveFile(temp) {\n      if (!temp.createSavedFile && temp.ContractFileId) {\n        return new Promise((resolve, reject) => {\n          Promise.all([\n            saveFile({\n              Id: 0,\n              FileId: temp.ContractFileId,\n              FileType: 10,\n              FileName: temp.ContractFileName,\n              FileSize: temp.ContractFileSize,\n            }),\n          ])\n            .then((result) => {\n              console.log(\"准备工作完毕1\");\n              console.log(result);\n              temp.Contract = result[0].Data;\n              temp.createSavedFile = true;\n              this.$refs.contractUploader.clearFiles();\n              resolve(temp);\n            })\n            .catch(() => {\n              reject();\n            });\n        });\n      } else {\n        return new Promise((resolve, reject) => {\n          console.log(\"准备工作完毕0\");\n          resolve(temp);\n        });\n      }\n    },\n    handleDetail(row) {\n      fetchProject(row.Id)\n        .then((response) => {\n          let data = response.Data; // copy obj\n\n          data.LatLon = data.ProjLat + \",\" + data.ProjLng;\n          data.Region = [\n            TextToCode[data.ProProvince] && TextToCode[data.ProProvince].code\n              ? TextToCode[data.ProProvince].code\n              : 0,\n            TextToCode[data.ProProvince] &&\n            TextToCode[data.ProProvince].code &&\n            TextToCode[data.ProProvince][data.ProCity] &&\n            TextToCode[data.ProProvince][data.ProCity].code\n              ? TextToCode[data.ProProvince][data.ProCity].code\n              : 0,\n            TextToCode[data.ProProvince] &&\n            TextToCode[data.ProProvince].code &&\n            TextToCode[data.ProProvince][data.ProCity] &&\n            TextToCode[data.ProProvince][data.ProCity].code &&\n            TextToCode[data.ProProvince][data.ProCity][data.ProjArea] &&\n            TextToCode[data.ProProvince][data.ProCity][data.ProjArea].code\n              ? TextToCode[data.ProProvince][data.ProCity][data.ProjArea].code\n              : 0,\n          ];\n          data.Phase = data.Phase.map((item) => {\n            return Object.assign(\n              {\n                DateRange: [item.StartDate, item.EndDate],\n              },\n              item\n            );\n          });\n          this.temp = data;\n          getFileUrl({ IdS: this.temp.Contract })\n            .then((res) => {\n              this.$set(\n                this.temp,\n                \"ContractUrl\",\n                baseURL + \"/\" + res.Data[0].FileId\n              );\n            })\n            .catch();\n          this.dialogStatus = \"detail\";\n          this.dialogFormVisible = true;\n          this.$nextTick(() => {\n            this.$refs[\"detailDataForm\"].clearValidate();\n          });\n        })\n        .catch((error) => {\n          this.$notify({\n            title: \"失败\",\n            message: \"获取项目详情失败！\",\n            type: \"success\",\n            duration: 2000,\n          });\n        });\n    },\n    handleUpdate(row) {\n      fetchProject(row.Id)\n        .then((response) => {\n          let data = response.Data; // copy obj\n          data.LatLon = data.ProjLat + \",\" + data.ProjLng;\n          data.Region = [\n            TextToCode[data.ProProvince] && TextToCode[data.ProProvince].code\n              ? TextToCode[data.ProProvince].code\n              : 0,\n            TextToCode[data.ProProvince] &&\n            TextToCode[data.ProProvince].code &&\n            TextToCode[data.ProProvince][data.ProCity] &&\n            TextToCode[data.ProProvince][data.ProCity].code\n              ? TextToCode[data.ProProvince][data.ProCity].code\n              : 0,\n            TextToCode[data.ProProvince] &&\n            TextToCode[data.ProProvince].code &&\n            TextToCode[data.ProProvince][data.ProCity] &&\n            TextToCode[data.ProProvince][data.ProCity].code &&\n            TextToCode[data.ProProvince][data.ProCity][data.ProjArea] &&\n            TextToCode[data.ProProvince][data.ProCity][data.ProjArea].code\n              ? TextToCode[data.ProProvince][data.ProCity][data.ProjArea].code\n              : 0,\n          ];\n          console.log(\"data\", data);\n          data.Phase = data.Phase\n            ? data.Phase.map((item) => {\n                return Object.assign(\n                  {\n                    DateRange: [item.StartDate, item.EndDate],\n                  },\n                  item\n                );\n              })\n            : \"\";\n          this.temp = data;\n          this.dialogStatus = \"update\";\n          this.dialogFormVisible = true;\n          this.$nextTick(() => {\n            this.$refs[\"detailDataForm\"].clearValidate();\n          });\n        })\n        .catch((error) => {\n          this.$notify({\n            title: \"失败\",\n            message: \"获取项目详情失败！\",\n            type: \"success\",\n            duration: 2000,\n          });\n        });\n    },\n    updateData() {\n      this.$refs[\"detailDataForm\"].validate((valid) => {\n        if (valid) {\n          // let { Region, ...temp } = this.temp;\n          // if (Region && Region.length > 0) {\n          //   temp.ProProvince = CodeToText[Region[0]];\n          //   temp.ProCity = CodeToText[Region[1]];\n          //   temp.ProjArea = CodeToText[Region[2]];\n          // }\n          // console.log(\"temp\", temp);\n\n          let { LatLon, Region, ...temp } = this.temp;\n          if (Region && Region.length > 0) {\n            temp.ProProvince = CodeToText[Region[0]];\n            temp.ProCity = CodeToText[Region[1]];\n            temp.ProjArea = CodeToText[Region[2]];\n          }\n          let { Phase } = temp;\n          Phase = Phase.map((item) => {\n            let { DateRange, ...copyItem } = item;\n            return copyItem;\n          });\n          temp.Phase = Phase;\n          console.log(\"temp\", temp);\n          saveProject(temp)\n            .then(() => {\n              this.getList();\n              this.dialogFormVisible = false;\n              this.$notify({\n                title: \"成功\",\n                message: \"更新成功\",\n                type: \"success\",\n                duration: 2000,\n              });\n            })\n            .catch((error) => {\n              this.$notify({\n                title: \"失败\",\n                message: \"更新失败\",\n                type: \"error\",\n                duration: 2000,\n              });\n            });\n        }\n      });\n    },\n    handleStaffing(row) {\n      this.temp = Object.assign({}, row); // copy obj\n      this.dialogStatus = \"staffing\";\n      this.dialogFormVisible = true;\n    },\n    applyData() {\n      this.$refs[\"baseDataForm\"].validate((valid) => {\n        if (valid) {\n          this.saveFile(this.temp).then((res) => {\n            console.log(\"applyData.postData\", this.temp);\n            const {\n              ContractUrl,\n              fileList,\n              createSavedFile,\n              ContractFileSize,\n              ContractFileId,\n              ...temp\n            } = this.temp;\n            const SuperviseComId = getCompanyId();\n            temp.SuperviseComId = SuperviseComId;\n            applyProject({\n              Id: temp.Id,\n              Contract: temp.Contract,\n              SuperviseComId: temp.SuperviseComId,\n            })\n              .then(() => {\n                this.getList();\n                this.dialogFormVisible = false;\n                this.$notify({\n                  title: \"成功\",\n                  message: \"申请成功！\",\n                  type: \"success\",\n                  duration: 2000,\n                });\n              })\n              .catch((error) => {\n                this.$notify({\n                  title: \"失败\",\n                  message: \"操作失败\",\n                  type: \"error\",\n                  duration: 2000,\n                });\n              });\n          });\n        }\n      });\n    },\n    dialogFormClosed() {\n      this.dialogFormVisible = false;\n    },\n    handleContractChange(file, fileList) {\n      this.temp.fileList = fileList;\n      console.log(\"handleContractChange.fileList\", fileList);\n      // this.headFile = file;\n      // this.headFileList = fileList;\n      // if (fileList.length == 1) {\n      //   let { Contract, ...data } = this.baseDataRules;\n      //   this.baseDataRules = data;\n      // }\n      // this.$refs.baseDataForm.clearValidate(\"Contract\");\n      // this.hideUpload = fileList.length >= 1;\n    },\n    handleContractSuccess(res, file) {\n      this.temp.ContractUrl = URL.createObjectURL(file.raw);\n      this.temp.ContractFileId = res.Data;\n      this.temp.ContractFileName = file.name;\n      this.temp.ContractFileSize = file.size;\n      console.log(\"handleContractSuccess.res\", res);\n      console.log(\"handleContractSuccess.file\", file);\n      console.log(\"temp\", this.temp);\n      return res;\n    },\n    handleContractError(err, file, fileList) {\n      // this.temp.Contract = \"\";\n      // this.temp.ContractFileName = \"\";\n    },\n    beforeContractRemove(file, fileList) {\n      // return this.$confirm(`确定移除 ${file.name}？`);\n      return true;\n    },\n    handleContractUpload(params) {\n      let param = new FormData();\n      param.append(\"files\", params.file);\n      console.log(\"handleContractUpload.params\", params);\n      uploadFile(param)\n        .then((response) => {\n          this.temp.ContractFileId = response.Data;\n          this.temp.ContractFileName = params.file.name;\n          this.temp.ContractFileSize = params.file.size;\n          this.$refs.contractUploader.clearFiles();\n          this.temp.ContractUrl = URL.createObjectURL(params.file.raw);\n          console.log(\"handleContractUpload.temp\", this.temp);\n        })\n        .catch();\n    },\n    handleContract(row) {\n      fetchProject(row.Id)\n        .then((response) => {\n          let data = response.Data; // copy obj\n          this.temp = data;\n          this.dialogStatus = \"contract\";\n          this.dialogFormVisible = true;\n          this.$nextTick(() => {\n            this.$refs[\"baseDataForm\"].clearValidate();\n          });\n        })\n        .catch((error) => {\n          this.$notify({\n            title: \"失败\",\n            message: \"获取项目详情失败！\",\n            type: \"success\",\n            duration: 2000,\n          });\n        });\n    },\n    handlePreview(file) {\n      console.log(file);\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    handleContractRemove(files, fileList) {\n      console.log(file, fileList);\n      if (fileList.length == 0) {\n        this.baseDataRules.Contract = [\n          {\n            required: true,\n            message: \"请上传合同\",\n            trigger: \"change\",\n          },\n        ];\n      }\n      this.hideUpload = fileList.length >= 1;\n    },\n    handleContractExceed(file, fileList) {\n      console.log(file, fileList);\n    },\n    beforeContractUpload(file) {\n      const isPDF = file.type === \"application/pdf\";\n      const isLt5M = file.size / 1024 / 1024 < 5;\n\n      if (!isPDF) {\n        this.$message.error(\"上传合同文件只能是 PDF 格式!\");\n      }\n      if (!isLt5M) {\n        this.$message.error(\"上传合同文件大小不能超过 5MB!\");\n      }\n      return isPDF && isLt5M;\n    },\n    handleDelete(row, index) {\n      this.$confirm(\"此操作将删除该数据, 确定要继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then((_) => {\n          deleteProject({ Ids: row.Id })\n            .then(() => {\n              this.$notify({\n                title: \"成功\",\n                message: \"删除成功\",\n                type: \"success\",\n                duration: 2000,\n              });\n              this.getList();\n            })\n            .catch((error) => {\n              this.$notify({\n                title: \"失败\",\n                message: \"删除失败\",\n                type: \"error\",\n                duration: 2000,\n              });\n            });\n        })\n        .catch((_) => {});\n    },\n    handleFetchPersonnel(Id) {\n      fetchPersonnelList({ ProjectId: Id }).then((response) => {\n        this.personnelData = response.Data;\n        this.dialogPersonnelVisible = true;\n      });\n    },\n    handleDownload() {\n      this.downloadLoading = true;\n      import(\"@/vendor/Export2Excel\").then((excel) => {\n        const tHeader = [\n          \"项目Id\",\n          \"项目名称\",\n          \"项目类别\",\n          \"项目阶段\",\n          \"预计完成时间\",\n          \"项目状态\",\n          \"所属区域\",\n          \"负责人\",\n          \"地点\",\n          \"监理单位\",\n          \"监理人员数\",\n        ];\n        const filterVal = [\n          \"Id\",\n          \"ProjName\",\n          \"ProjectTypeId\",\n          \"PhaseName\",\n          \"CompletionDate\",\n          \"StatusName\",\n          \"Region\",\n          \"Contact\",\n          \"ProjAddr\",\n          \"CompanyName\",\n          \"SupervisorCount\",\n        ];\n        const data = this.formatJson(filterVal);\n        excel.export_json_to_excel({\n          header: tHeader,\n          data,\n          filename: \"项目列表\",\n        });\n        this.downloadLoading = false;\n      });\n    },\n    querySearch(queryString, cb) {\n      fetchListNoBundling({ ProjName: queryString })\n        .then((response) => {\n          const data = response.Data;\n          cb(data);\n        })\n        .catch((error) => {\n          cb([]);\n        });\n    },\n    handleSelect(item) {\n      this.temp = Object.assign({}, item);\n    },\n    downloadFile() {\n      getFileUrl({ IdS: this.temp.Contract })\n        .then((response) => {\n          let data = response.Data;\n          this.temp = Object.assign({}, row);\n        })\n        .catch();\n    },\n    handleLookCompany(item) {},\n    formatJson(filterVal) {\n      return this.list.map((v) =>\n        filterVal.map((j) => {\n          if (j == \"ProjectTypeId\") {\n            return this.getProjectTypeName(v[j]);\n          } else if (j == \"Region\") {\n            return (\n              CodeToText[v[j][0]] + CodeToText[v[j][1]] + CodeToText[v[j][2]]\n            );\n          } else {\n            return v[j];\n          }\n        })\n      );\n    },\n  },\n};\n</script>\n<style>\n.headercell {\n  background: \"#eef1f6\";\n  color: \"#606266\";\n}\n</style>\n<style lang=\"scss\" scoped>\n.upload-container {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  .avatar-uploader {\n    margin-bottom: 20px;\n    ::v-deep .el-upload--picture-card {\n      width: 171.2px;\n      height: 108px;\n      line-height: 108px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin-bottom: 10px;\n    }\n  }\n\n  .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409eff;\n  }\n  .el-upload--picture-card {\n    background-color: #fbfdff;\n    border: 1px dashed #c0ccda;\n    border-radius: 6px;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    width: 100px;\n    height: 100px !important;\n    cursor: pointer;\n    line-height: 100px !important;\n    vertical-align: top;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 100%;\n    height: 100px;\n    line-height: 100px;\n    text-align: center;\n  }\n  .avatar {\n    width: 100%;\n    height: 100%;\n    display: block;\n    background-color: rgba(249, 249, 249, 1);\n  }\n}\n.map {\n  width: 100%;\n  height: 230px;\n  background-color: rgba(249, 249, 249, 1);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4f633d78&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=4f633d78&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f633d78\",\n  null\n  \n)\n\nexport default component.exports","import {request} from '@/utils/request'\n\nexport function fetchList(query) {\n  return request({\n    url: '/Supervisor/GetList',\n    method: 'get',\n    params: query\n  })\n}\n\nexport function fetchPageList(query) {\n  return request({\n    url: '/Supervisor/GetPageList',\n    method: 'get',\n    params: query\n  })\n}\n\nexport function fetchPersonnel(Id) {\n  return request({\n    url: '/Supervisor/GetForm',\n    method: 'get',\n    params: { Id }\n  })\n}\n\nexport function fetchProject(id) {\n  return request({\n    url: '/vue-element-admin/personnel/project',\n    method: 'get',\n    params: { id }\n  })\n}\n\nexport function createPersonnel(data) {\n  return request({\n    url: '/vue-element-admin/personnel/create',\n    method: 'post',\n    data\n  })\n}\n\nexport function updatePersonnel(data) {\n  return request({\n    url: '/vue-element-admin/personnel/update',\n    method: 'post',\n    data\n  })\n}\nexport function savePersonnel(data) {\n  return request({\n    url: '/Supervisor/SaveForm',\n    method: 'post',\n    data\n  })\n}\nexport function recoveryPersonnel(data) {\n  return request({\n    url: '/Supervisor/RecoveryForm',\n    method: 'post',\n    data\n  })\n}\nexport function blacklistPersonnel(data) {\n  return request({\n    url: '/Supervisor/BlacklistForm',\n    method: 'post',\n    data\n  })\n}\nexport function deletePersonnel(data) {\n  return request({\n    url: '/Supervisor/DeleteForm',\n    method: 'post',\n    data\n  })\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","import store from '@/store'\n\n/**\n * @param {Array} value\n * @returns {Boolean}\n * @example see @/views/permission/directive.vue\n */\nexport default function checkPermission(Authorize) {\n  if (Authorize) {\n    const menus = store.getters && store.getters.menus\n    const hasPermission = menus.some(menu => {\n      return Authorize===menu.Authorize\n    })\n    return hasPermission\n  } else {\n    console.error(`need Authorize! Like v-permission=\"['admin','editor']\"`)\n    return false\n  }\n}\n"],"sourceRoot":""}